<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Unity3D 学习笔记 | Memories Of The Sky</title><meta name="author" content="BeiShan_Besson"><meta name="copyright" content="BeiShan_Besson"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Unity3D的学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity3D 学习笔记">
<meta property="og:url" content="https://beishanair.github.io/BessonNote/2025/08/06/u3d/index.html">
<meta property="og:site_name" content="Memories Of The Sky">
<meta property="og:description" content="Unity3D的学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://beishanair.github.io/BessonNote/pic/bg/bg6.jpg">
<meta property="article:published_time" content="2025-08-05T16:00:00.000Z">
<meta property="article:modified_time" content="2025-12-07T12:44:25.388Z">
<meta property="article:author" content="BeiShan_Besson">
<meta property="article:tag" content="U3D">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://beishanair.github.io/BessonNote/pic/bg/bg6.jpg"><link rel="shortcut icon" href="/BessonNote/pic/BS.png"><link rel="canonical" href="https://beishanair.github.io/BessonNote/2025/08/06/u3d/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/BessonNote/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/BessonNote/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity3D 学习笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-12-07 20:44:25'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/BessonNote/pic/BS.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/BessonNote/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/BessonNote/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/BessonNote/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/BessonNote/"><i class="fa-fw fas fa-home"></i><span> Menu</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/BessonNote/pic/bg/bg1.jpg')"><nav id="nav"><span id="blog-info"><a href="/BessonNote/" title="Memories Of The Sky"><span class="site-name">Memories Of The Sky</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/BessonNote/"><i class="fa-fw fas fa-home"></i><span> Menu</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Unity3D 学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-05T16:00:00.000Z" title="发表于 2025-08-06 00:00:00">2025-08-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-07T12:44:25.388Z" title="更新于 2025-12-07 20:44:25">2025-12-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/BessonNote/categories/note/">note</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">15.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>57分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Unity3D 学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>引擎就不介绍了</p>
<p>由于U3D的各种诡异的操作，我对于U3D的学习将只会停留在<code>会用就行</code>，重点在UE上</p>
<p>当然，我相信，其实都是差不多的</p>
<h1 id="引擎安装"><a href="#引擎安装" class="headerlink" title="引擎安装"></a>引擎安装</h1><h2 id="叨叨叨"><a href="#叨叨叨" class="headerlink" title="叨叨叨"></a>叨叨叨</h2><p>现在国内能下载到非团结的只有<code>2022</code>了，<code>Unity 6</code>不再向大陆提供，取而代之的是<code>团结引擎</code></p>
<p>常规安装通过Unity Hub进行，需要注册账号，安装时使用LTS版</p>
<p>还需要申请许可证才能使用，学习的话就只用个人版就行了，免费</p>
<p>至于国际版，就得用7根木棍飞到外面去，到官网上去下载，不然在点下载时还是会跳转到国内的下载界面</p>
<p>不过，使用国际版暂不清楚是否有问题，但学习吧，问题不大</p>
<p>中国官网： <a target="_blank" rel="noopener" href="https://unity.cn/">https://unity.cn/</a></p>
<p>国际官网： <a target="_blank" rel="noopener" href="https://unity.com/">https://unity.com/</a></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>添加版本时，可以选择一些额外的模块，是一些别的平台的开发包</p>
<p>可以选择<code>Android</code>, <code>Windows</code>, <code>iOS</code>，毕竟这三个算是常用的，其他的可能没有设备来测试</p>
<p>另外的文档<code>Documentation</code>，可以选上，查看一些说明</p>
<h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p>创建项目时，可以选择一些模板，比如2D，3D等，输入名称，选择项目保存的路径，点击创建即可</p>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><ul>
<li><code>Assets</code>：存放资源文件，美术资源、脚本、预制体等都放在这里</li>
<li><code>Library</code>：存放库文件</li>
<li><code>Logs</code>：存放日志文件</li>
<li><code>obj</code>：编译产生的中间文件</li>
<li><code>Packages</code>：存放包配置信息</li>
<li><code>ProjectSettings</code>：存放项目设置</li>
</ul>
<h1 id="基本界面"><a href="#基本界面" class="headerlink" title="基本界面"></a>基本界面</h1><p>使用的话其实建议直接用英文的界面，好看文档和一些教程，有时候中文翻译可能存在问题</p>
<h2 id="窗口布局"><a href="#窗口布局" class="headerlink" title="窗口布局"></a>窗口布局</h2><p>右上角的位置<code>Layout</code>，可以调整窗口布局</p>
<h2 id="Hierarchy（层级）"><a href="#Hierarchy（层级）" class="headerlink" title="Hierarchy（层级）"></a>Hierarchy（层级）</h2><p><code>Hierarchy</code>窗口，存放场景中的所有物体</p>
<p>包括<code>模型</code>、<code>灯光</code>、<code>摄像机</code>、<code>UI</code>等</p>
<p>左上角的<code>+</code>或者鼠标右键都可以创建物体</p>
<p>一些快捷键：</p>
<ul>
<li><code>Ctrl + D</code>：直接克隆一个当前选择的物体（复制+粘贴）</li>
<li><code>F2</code>：重命名当前选中的物体</li>
<li><code>Delete</code>：删除当前选中的物体</li>
<li><code>Ctrl + C</code>：复制当前选中的物体</li>
<li><code>Ctrl + V</code>：粘贴当前复制的物体</li>
</ul>
<h2 id="Scene（场景）"><a href="#Scene（场景）" class="headerlink" title="Scene（场景）"></a>Scene（场景）</h2><p><code>Scene</code>窗口，显示当前场景的视图</p>
<p>窗口上方栏从左到右依次为（2022版）：</p>
<ul>
<li>枢轴选择，可选择物体的轴心，默认为<code>Pivot</code>，可以选择<code>Center</code>，即物体的中心</li>
<li>坐标轴，可以选择物体的坐标轴，默认为<code>Global</code>，可以选择<code>Local</code>，即物体的局部坐标轴</li>
<li>显示辅助线，即显示地平面上的网格线</li>
<li>吸附模式，只能在全局坐标轴下启用</li>
<li>吸附模式参数调整，按照特定的距离、角度进行调整</li>
<li>渲染模式</li>
<li>2D、3D切换</li>
<li>灯光显示</li>
<li>声音显示</li>
<li>粒子等其他特效的显示</li>
<li>场景可见性，即显示或隐藏场景中的物体</li>
<li>场景摄像机设置</li>
<li>其他的辅助功能设置</li>
</ul>
<p>右上角的<code>Persp</code>是场景轴向，显示当前视图下的坐标轴方向</p>
<p>左侧栏是一些操作工具，对应的快捷键：</p>
<ul>
<li><code>Q</code>：平移</li>
<li><code>W</code>：移动</li>
<li><code>E</code>：旋转</li>
<li><code>R</code>：缩放</li>
<li><code>T</code>：2D上的操作</li>
<li><code>Y</code>：综合（除了2D）上述功能</li>
</ul>
<p>鼠标的一些操作：</p>
<ul>
<li>左键：选择物体</li>
<li>左键 + <code>Ctrl</code>：添加选择物体</li>
<li>框选：选择框选范围内的物体</li>
<li>左键 + <code>Alt</code> + 拖动：相对视口中心点旋转</li>
<li>左键选择物体 + <code>F</code>：最大化显示选择的物体</li>
<li>右键 + 拖动：平移</li>
<li>右键 + <code>WASD</code>：漫游场景</li>
<li>右键 + <code>WASD</code> + <code>Shift</code>：快速漫游场景</li>
<li>右键 + <code>Alt</code> + 拖动：相对屏幕中心拉近拉远</li>
<li>中键滚动：拉近拉远</li>
<li>中键 + 拖动：平移</li>
<li>中键滚动 + <code>Alt</code>：按照鼠标位置拉近拉远</li>
</ul>
<h2 id="Game（游戏）"><a href="#Game（游戏）" class="headerlink" title="Game（游戏）"></a>Game（游戏）</h2><p><code>Game</code>窗口，显示当前游戏运行时的视图，玩家可以看到的窗口</p>
<p>至少有一个摄像机才能在窗口中显示</p>
<p>在上方中央位置，有一个播放按钮，点击即可运行游戏；<br>第二个是暂停运行；第三个是逐帧运行</p>
<p>Game窗口中，上方位置的各栏：</p>
<ul>
<li>选择运行平台，Game为PC端，Simulator为模拟器，模拟在移动平台上的效果</li>
<li>显示的显示器，一般就Display1</li>
<li>显示的分辨率，可以自定义分辨率和比例</li>
<li>显示缩放，缩放当前显示的内容</li>
<li>运行时显示模式，全屏或者窗口模式</li>
<li>Show Frame Debugger，显示帧调试器</li>
<li>Mute Audio，静音</li>
<li>Unity Shorts，显示快捷键</li>
<li>Stats，显示帧率等统计信息</li>
<li>Gizmos，其他的显示设置，包括显示图标在内</li>
</ul>
<h2 id="Project（项目）"><a href="#Project（项目）" class="headerlink" title="Project（项目）"></a>Project（项目）</h2><p><code>Project</code>窗口，存放项目中的资源文件</p>
<p>默认文件夹<code>Scene</code>，存放场景文件，双击即可打开场景</p>
<p>官方拓展包<code>Packages</code>，存放项目使用的包</p>
<ul>
<li>左上角<code>+</code>创建资源文件，如C#脚本</li>
<li>搜索栏，搜索资源文件</li>
<li>搜索栏右侧第二个按钮（几何图形图标），按类型查找</li>
<li>搜索栏右侧第三个按钮（标签图标），按名字查找</li>
</ul>
<h2 id="Inspector（检查器）"><a href="#Inspector（检查器）" class="headerlink" title="Inspector（检查器）"></a>Inspector（检查器）</h2><p><code>Inspector</code>窗口，显示当前选中物体的属性（其实也是与之相关的C#脚本信息）</p>
<p>第一块部分：<br>游戏对象的基本设置</p>
<ul>
<li>左侧（默认是一个方块）：打标签</li>
<li>复选框：是否激活</li>
<li>名称：物体的名称，可以重命名</li>
<li>Tag：标签，用于分类</li>
<li>Layer：层级，用于控制物体之间的交互</li>
<li>Static：是否为静态物体，静态物体不会在运行时被销毁，可以优化性能</li>
</ul>
<p>后面的部分都是C#关联的脚本</p>
<ul>
<li>Transform：与位置相关的脚本信息，改变物体的位置、旋转、缩放</li>
<li>Box Collider：碰撞器，用于检测物体之间的碰撞</li>
<li>Camera：摄像机，用于显示场景</li>
<li>…</li>
</ul>
<h2 id="Console（控制台）"><a href="#Console（控制台）" class="headerlink" title="Console（控制台）"></a>Console（控制台）</h2><p><code>Console</code>窗口，显示游戏运行时的日志信息</p>
<p>默认是不开启的，在<code>Window</code> -&gt; <code>General</code> -&gt; <code>Console</code>中开启</p>
<p>快捷键<code>Ctrl + Shift + C</code>，可以快速打开</p>
<p>上方栏：</p>
<ul>
<li>Clear，清空日志</li>
<li>右侧选项，分运行时清理，构建时清理和编译时清理</li>
<li>Collapsed，折叠日志，折叠相同信息</li>
<li>Error Pause，错误暂停，当出现错误时暂停游戏</li>
<li>Editor，选择显示的日志信息</li>
<li>搜索栏，搜索日志信息</li>
<li>右侧三个图标，分别是是否显示错误、警告和普通打印信息，以及它们的计数</li>
</ul>
<h2 id="Toolbar（工具栏）"><a href="#Toolbar（工具栏）" class="headerlink" title="Toolbar（工具栏）"></a>Toolbar（工具栏）</h2><ul>
<li><code>File</code>：文件操作，如保存、导入、导出等</li>
<li><code>Edit</code>：编辑操作，如撤销、重做、复制、粘贴等</li>
<li><code>Assets</code>：资源操作，如创建资源、导入资源等</li>
<li><code>GameObject</code>：游戏对象操作，如创建游戏对象、添加组件等</li>
<li><code>Components</code>：组件（脚本）操作，如添加组件、移除组件等</li>
<li><code>Service</code>：服务操作</li>
<li><code>Window</code>：窗口操作，如打开窗口、关闭窗口等</li>
<li><code>Help</code>：帮助操作，如查看帮助文档、访问官网等</li>
</ul>
<p>一些快捷键：</p>
<ul>
<li><code>Ctrl + Shift + F</code>：移动物体到当前视角，常用于摄像机视角的设置</li>
<li><code>Ctrl + P</code>：运行游戏</li>
<li><code>Ctrl + Shift + P</code>：暂停游戏</li>
<li><code>Ctrl + Alt + P</code>：逐帧运行游戏</li>
</ul>
<h2 id="父子级"><a href="#父子级" class="headerlink" title="父子级"></a>父子级</h2><p>在<code>Hierarchy</code>窗口中，物体之间有父子级关系，子物体跟随父物体移动</p>
<p>在选择物体时右键新建就会创建该物体的子对象</p>
<p>变换父对象时，子物体的坐标也会随之改变</p>
<p>但操作子对象时，父对象不会随之改变</p>
<p>注意子对象的<code>Transform</code>组件中显示的是相对父对象的</p>
<h1 id="Unity工作原理"><a href="#Unity工作原理" class="headerlink" title="Unity工作原理"></a>Unity工作原理</h1><h2 id="反射机制"><a href="#反射机制" class="headerlink" title="反射机制"></a>反射机制</h2><p>Unity使用反射机制来加载和执行C#脚本</p>
<p>游戏中的物体是GameObject，脚本继承自MonoBehaviour，通过反射机制来加载和执行脚本</p>
<p>GameObject会自带一个Transform组件，用于控制物体的位置、旋转、缩放</p>
<p>反射的体现：</p>
<ul>
<li>修改<code>Inspector</code>面板中的<code>Transform</code>的内容：利用反射，已知对象、类名、变量名，通过反射为该对象设置值</li>
<li>新建一个脚本后，添加一个指定的GameObject对象：利用反射，已知类名，可以获取所有公共成员，所以在<code>Inspector</code>面板中可以显示该脚本的所有公共成员</li>
</ul>
<h2 id="游戏场景"><a href="#游戏场景" class="headerlink" title="游戏场景"></a>游戏场景</h2><p>游戏场景的后缀名是<code>.unity</code>，可以用记事本打开，其中存储了场景上的内容，包括设置、物体等</p>
<p>本质是一个配置文件，由unity引擎读取</p>
<h2 id="预设体"><a href="#预设体" class="headerlink" title="预设体"></a>预设体</h2><p>预设体用来保存物体的信息，包括位置、旋转、缩放、组件等，然后可以在其他场景中使用这个物体</p>
<p>即便<code>Hierarchy</code>窗口中的物体被删除，只要保存了预设体，就可以在其他场景中重新使用这个物体</p>
<p>后缀名为<code>.prefab</code></p>
<ul>
<li><p>创建预设体：<br>在<code>Hierarchy</code>窗口中，选中一个物体，直接拖入到<code>Project</code>窗口中，即可创建一个预设体</p>
</li>
<li><p>使用预设体：<br>直接将<code>Project</code>中的预设体拖入到<code>Hierarchy</code>窗口中，即可使用</p>
</li>
<li><p>修改预设体：</p>
<ul>
<li>在<code>Hierarchy</code>窗口中，编辑了预设体之后，在<code>Inspector</code>窗口中，第一块内容会多一行，<br>最右边的<code>Overrides</code>有两个选项，一个是<code>重置所有</code>，一个是<code>应用到所有</code>，前者会重置所有修改，后者会将修改应用到所有使用该预设体的物体</li>
<li>另一种简单粗暴的方法是将修改后的预设体重新拖入<code>Project</code>窗口中，这样会覆盖原来的预设体</li>
<li>删除预设体中的部分内容，需要先打开预设体，然后才能删除</li>
</ul>
</li>
<li><p>删除预设体：<br>在<code>Project</code>窗口中，选中预设体，直接删除</p>
</li>
<li><p>独立预设体：<br>Unpack Prefab，将预设体中的内容独立出来，这样就可以单独修改预设体中的内容，而不会影响到其他使用该预设体的物体</p>
</li>
</ul>
<h2 id="资源包导入导出"><a href="#资源包导入导出" class="headerlink" title="资源包导入导出"></a>资源包导入导出</h2><p>可以将<code>Project</code>窗口中的资源导出为包，然后在其他项目中使用</p>
<p>后缀是<code>.unitypackage</code></p>
<p>也可以导入资源包，将其他项目中的资源导入到当前项目中</p>
<h1 id="Unity-脚本"><a href="#Unity-脚本" class="headerlink" title="Unity 脚本"></a>Unity 脚本</h1><h2 id="基本规则"><a href="#基本规则" class="headerlink" title="基本规则"></a>基本规则</h2><ul>
<li>不直接在VS中创建脚本</li>
<li>可以在<code>Assets</code>文件夹中创建脚本</li>
<li>类名和文件名必须一致，不然不能挂载</li>
<li>不要使用中文命名</li>
<li>没有特殊需求，不用管命名空间</li>
<li>创建的脚本默认继承MonoBehaviour</li>
</ul>
<h2 id="MonoBehaviour"><a href="#MonoBehaviour" class="headerlink" title="MonoBehaviour"></a>MonoBehaviour</h2><p>MonoBehaviour是Unity中所有脚本的基类，所有的脚本都必须继承MonoBehaviour</p>
<ul>
<li>只有继承了MonoBehaviour的脚本，才能挂载到GameObject上</li>
<li>继承了MonoBehaviour的脚本，可以挂载到GameObject上，但不能<code>new</code></li>
<li>继承了MonoBehaviour的脚本不要写构造函数</li>
<li>继承MonoBehaviour的脚本，可以在一个GameObject上挂载多个（如果没有DisallowMultipleComponent特性，默认可以挂载多个，但过多的脚本会影响性能）</li>
<li>继承了MonoBehaviour的脚本，可以再被继承（但是要避免层层继承）</li>
</ul>
<h2 id="生命周期函数"><a href="#生命周期函数" class="headerlink" title="生命周期函数"></a>生命周期函数</h2><p>生命周期函数是MonoBehaviour中的一些特殊函数，它们在游戏运行时会自动调用</p>
<p>关于帧</p>
<ul>
<li>Unity 底层已经做好了游戏的循环</li>
<li>需要我们来学习它的生命周期函数，用它的规则来执行游戏的相关逻辑</li>
</ul>
<p>生命周期函数</p>
<ul>
<li>所有继承<code>MonoBehaviour</code>的类都有这些生命周期函数</li>
<li>生命周期函数是该脚本依附的GameObject在游戏运行过程中，从初始化到销毁会自动调用的一些函数</li>
<li>Unity会帮助我们记录一个GameObject对象依附了哪些脚本，在运行过程中会自动得到这些对象，并通过反射去执行一些固定名字的函数</li>
<li>生命周期函数一般是private或protected的，因为它们是Unity自动调用的，我们不需要手动调用</li>
<li>生命周期函数的名字是固定的，不能自己定义</li>
</ul>
<p>一些函数：</p>
<ul>
<li><code>Awake</code>：在类对象被创建时调用，只调用一次，用于初始化（类似于构造函数的存在）</li>
<li><code>OnEnable</code>：依附的<code>GameObject</code>每次激活时调用</li>
<li><code>Start</code>：在类对象被创建出来后，<code>第一次帧更新之前</code>被调用，只调用一次</li>
<li><code>FixedUpdate</code>：物理帧更新，在每个物理帧调用一次，可以处理一些物理逻辑（物理帧的频率可以在项目设置的<code>Time</code>中调整，默认是每0.02秒调用一次，即50次每秒）</li>
<li><code>Update</code>：每一帧调用一次，用于处理游戏逻辑</li>
<li><code>LateUpdate</code>：每一帧调用一次，在<code>Update</code>之后调用，用于处理一些需要在<code>Update</code>之后处理的逻辑，一般是处理摄像机的逻辑</li>
<li><code>OnDisable</code>：依附的<code>GameObject</code>每次被禁用时调用</li>
<li><code>OnDestroy</code>：在类对象被销毁时调用，只调用一次，用于清理资源</li>
</ul>
<p>生命周期函数可以根据需要选择性地实现，不需要全部实现</p>
<p>也支持继承和重写</p>
<h2 id="打印信息"><a href="#打印信息" class="headerlink" title="打印信息"></a>打印信息</h2><p>在Unity中打印信息可以使用<code>Debug.Log</code>，它会将信息打印到控制台;<br>同时，衍生的方法是<code>Debug.LogWarning</code>和<code>Debug.LogError</code>，分别表示警告和错误</p>
<p>继承了<code>MonoBehaviour</code>的类，有一个专门的方法用来打印，<code>print</code></p>
<h2 id="Inspector窗口中可编辑的变量"><a href="#Inspector窗口中可编辑的变量" class="headerlink" title="Inspector窗口中可编辑的变量"></a>Inspector窗口中可编辑的变量</h2><p>Inspector窗口中显示的可编辑内容，就是脚本的公共成员变量</p>
<ul>
<li>私有和受保护的变量不会显示在<code>Inspector</code>窗口中，但可以使用<code>[SerializeField]</code>属性来显示私有变量</li>
<li>公共的变量会显示在<code>Inspector</code>窗口中，但如果使用<code>[HideInInspector]</code>属性，则不会显示</li>
<li>大部分类型都可以显示在<code>Inspector</code>窗口中，包括基本类型、字符串、枚举等</li>
<li>自定义类需要使用<code>[System.Serializable]</code>属性才能显示在<code>Inspector</code>窗口中</li>
<li>字典不论如何都无法显示在<code>Inspector</code>窗口中</li>
</ul>
<p>一些辅助特性：</p>
<ul>
<li><code>Header</code>：标题，说明</li>
<li><code>Tooltip</code>：鼠标悬停时显示的提示信息</li>
<li><code>Space</code>：在变量之间添加空格</li>
<li><code>Range</code>：用于限制数值类型变量的范围，并在<code>Inspector</code>窗口中显示为滑动条</li>
<li><code>Multiline</code>：用于显示多行文本，默认为3行</li>
<li><code>TextArea</code>：用于显示多行文本区域</li>
<li><code>ContextMenuItem</code>：为方法添加右键菜单选项</li>
<li><code>ContextMenu</code>：让方法能在Inspector窗口中右键调用</li>
</ul>
<p>注意：</p>
<ul>
<li>Inspector窗口中显示的变量就是该脚本的公共成员变量，运行时可以通过Inspector窗口修改这些变量的值</li>
<li>将脚本拖到<code>GameObject</code>上后，再改变脚本中的默认值，界面上的值不会改变</li>
<li>运行中修改的信息不会保存，停止运行后会恢复到之前的值</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> EType</span><br><span class="line">&#123;</span><br><span class="line">    Normal,</span><br><span class="line">    Player,</span><br><span class="line">    Monster</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">System.Serializable</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> SData</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">System.Serializable</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CData</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> <span class="keyword">value</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> isActive;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson2</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 私有和受保护成员变量，不会显示在Unity Inspector中</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> i1;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">string</span> s1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 但使用[SerializeField]属性，可以让私有和受保护成员变量显示在Unity Inspector中</span></span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> s2;</span><br><span class="line">    [<span class="meta">SerializeField</span>]</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">int</span> i2;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 公共成员变量，会显示在Unity Inspector中</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> f1;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> b1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不过公共的变量也可以使用[HideInInspector]属性来隐藏</span></span><br><span class="line">    [<span class="meta">HideInInspector</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> b2;</span><br><span class="line">    [<span class="meta">HideInInspector</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> f2;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 大部分类型都可以显示在Unity Inspector中</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span>[] array1;</span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="built_in">string</span>&gt; list1;</span><br><span class="line">    <span class="keyword">public</span> EType type1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字典、自定义类、结构体等复杂类型则不能显示在Unity Inspector中</span></span><br><span class="line">    <span class="comment">// 但可以加上[System.Serializable]属性来实现显示（除了字典）</span></span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dict1; <span class="comment">// 不能显示</span></span><br><span class="line">    <span class="keyword">public</span> SData struct1; <span class="comment">// 可以显示</span></span><br><span class="line">    <span class="keyword">public</span> CData class1; <span class="comment">// 可以显示</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 其他的辅助特性</span></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;Header Example&quot;</span>)</span>] <span class="comment">// 在Inspector中添加标题说明</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> headerExample;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Tooltip(<span class="string">&quot;Tooltip Example&quot;</span>)</span>] <span class="comment">// 在Inspector中添加鼠标悬停提示</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> tooltipExample;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Space(10)</span>] <span class="comment">// 在Inspector中添加空白间距</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> spaceExample;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Range(0, 100)</span>] <span class="comment">// 在Inspector中添加滑动条</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> rangeExample;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Multiline(3)</span>] <span class="comment">// 在Inspector中添加多行文本框，指定行数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> multilineExample;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">TextArea(3, 5)</span>] <span class="comment">// 在Inspector中添加可调整大小的文本区域，指定最小和最大行数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> textAreaExample;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">ContextMenuItem(<span class="string">&quot;Reset Value&quot;</span>, <span class="string">&quot;ResetValue&quot;</span>)</span>] <span class="comment">// 在Inspector中添加右键菜单项</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> contextMenuExample;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ResetValue</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        contextMenuExample = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">ContextMenu(<span class="string">&quot;Print Info&quot;</span>)</span>] <span class="comment">// 在组件的齿轮菜单中添加菜单项</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">PrintInfo</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;Context Menu Example Invoked!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="MonoBehaviour中重要的内容"><a href="#MonoBehaviour中重要的内容" class="headerlink" title="MonoBehaviour中重要的内容"></a>MonoBehaviour中重要的内容</h2><ul>
<li><code>gameObject</code>：获取当前脚本依附的<code>GameObject</code>对象<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取依附的GameObject</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject);</span><br></pre></td></tr></table></figure></li>
<li><code>transform</code>：获取当前脚本依附的<code>GameObject</code>对象的<code>Transform</code>组件<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取GameObject的位置信息</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.position);</span><br><span class="line">print(<span class="keyword">this</span>.transform.eulerAngles); <span class="comment">// 获取欧拉角</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.localScale); <span class="comment">// 获取缩放信息</span></span><br></pre></td></tr></table></figure></li>
<li><code>enabled</code>：获取或设置脚本是否激活<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取脚本是否激活</span></span><br><span class="line">print(<span class="keyword">this</span>.enabled);</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>重要方法</strong></p>
<ul>
<li>得到自己挂载的单个脚本<ul>
<li>根据脚本名获取</li>
<li>typeof获取</li>
<li>用泛型获取<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Lesson2 t = <span class="keyword">this</span>.GetComponent(<span class="string">&quot;Lesson2&quot;</span>) <span class="keyword">as</span> Lesson2;</span><br><span class="line">print(t);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type方式获取</span></span><br><span class="line">Lesson2 t2 = <span class="keyword">this</span>.GetComponent(<span class="keyword">typeof</span>(Lesson2) ) <span class="keyword">as</span> Lesson2;</span><br><span class="line">print(t2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 泛型方式获取</span></span><br><span class="line">Lesson2 t3 = <span class="keyword">this</span>.GetComponent&lt;Lesson2&gt;();</span><br><span class="line">print(t3);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>得到自己挂载的多个脚本<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Lesson3[] arr = <span class="keyword">this</span>.GetComponents&lt;Lesson3&gt;();</span><br><span class="line">print(arr.Length);</span><br><span class="line"></span><br><span class="line">List&lt;Lesson3&gt; list = <span class="keyword">new</span> List&lt;Lesson3&gt;();</span><br><span class="line"><span class="keyword">this</span>.GetComponents&lt;Lesson3&gt;(list);</span><br><span class="line">print(list.Count);</span><br></pre></td></tr></table></figure></li>
<li>得到子物体上的脚本（默认会找自己身上是否挂载该脚本，也可以获取多个），参数可填入一个布尔值，表示是否包含非激活的物体<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lesson2 t4 = <span class="keyword">this</span>.GetComponentInChildren&lt;Lesson2&gt;();</span><br><span class="line">print(t4);</span><br><span class="line"></span><br><span class="line">Lesson2[] arr2 = <span class="keyword">this</span>.GetComponentsInChildren&lt;Lesson2&gt;();</span><br><span class="line">print(arr2.Length);</span><br></pre></td></tr></table></figure></li>
<li>得到父物体上的脚本（默认会找自己身上是否挂载该脚本）<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Lesson2 t5 = <span class="keyword">this</span>.GetComponentInParent&lt;Lesson2&gt;();</span><br><span class="line">print(t5);</span><br><span class="line">Lesson2[] arr3 = <span class="keyword">this</span>.GetComponentsInParent&lt;Lesson2&gt;();</span><br><span class="line">print(arr3.Length);</span><br></pre></td></tr></table></figure></li>
<li>尝试获取脚本，避免空引用异常<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lesson2 t6;</span><br><span class="line"><span class="built_in">bool</span> ret = <span class="keyword">this</span>.TryGetComponent&lt;Lesson2&gt;(<span class="keyword">out</span> t6);</span><br><span class="line">print(ret);</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Unity重要组件和API"><a href="#Unity重要组件和API" class="headerlink" title="Unity重要组件和API"></a>Unity重要组件和API</h1><h2 id="GameObject"><a href="#GameObject" class="headerlink" title="GameObject"></a>GameObject</h2><h3 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h3><ul>
<li>名字：<code>name</code><br>通过<code>this.gameObject.name</code>获取或设置物体名称</li>
<li>是否激活：<code>activeSelf</code><br>通过<code>this.gameObject.activeSelf</code>获取物体是否激活</li>
<li>是否是静态物体：<code>isStatic</code><br>通过<code>this.gameObject.isStatic</code>获取物体是否为静态物体</li>
<li>标签：<code>tag</code><br>通过<code>this.gameObject.tag</code>获取或设置物体标签</li>
<li>层级：<code>layer</code><br>通过<code>this.gameObject.layer</code>获取或设置物体层级</li>
<li>变换组件：<code>transform</code><br>通过<code>this.gameObject.transform</code>获取物体的变换组件（与this.transform相同）</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GameObject的成员变量</span></span><br><span class="line"><span class="comment">// 名字</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.name);</span><br><span class="line"><span class="keyword">this</span>.gameObject.name = <span class="string">&quot;NewName&quot;</span>;</span><br><span class="line">print(<span class="keyword">this</span>.gameObject.name);</span><br><span class="line"><span class="comment">// 是否激活</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.activeSelf);</span><br><span class="line"><span class="comment">// 是否是静态</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.isStatic);</span><br><span class="line"><span class="comment">// 层级</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.layer);</span><br><span class="line"><span class="comment">// 标签</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.tag);</span><br><span class="line"><span class="comment">// transform组件</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.transform.position);</span><br><span class="line">print(<span class="keyword">this</span>.gameObject.transform.rotation);</span><br></pre></td></tr></table></figure>

<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><ul>
<li>创建物体：<code>GameObject.CreatePrimitive(PrimitiveType type)</code><br>创建一个基本的几何体物体，参数为几何体类型<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建自带几何体</span></span><br><span class="line">GameObject obj = GameObject.CreatePrimitive(PrimitiveType.Cube);</span><br><span class="line">obj.name = <span class="string">&quot;MyCube&quot;</span>;</span><br></pre></td></tr></table></figure></li>
<li>查找对象：<ol>
<li>查找单个物体<ul>
<li><code>GameObject.Find(string name)</code>根据名称查找物体，返回第一个找到的物体（这个方法效率较低）</li>
<li><code>GameObject.FindWithTag(string tag)</code>根据标签查找物体，返回第一个找到的物体</li>
<li><code>GameObject.FindGameObjectWithTag(string tag)</code>根据标签查找物体，返回第一个找到的物体（效果与上面的一样）</li>
<li>上面的两个方法都无法找到未激活的对象，且如果场景中存在多个物体，也无法精确定位到具体的物体</li>
</ul>
</li>
<li>查找多个物体<ul>
<li><code>GameObject.FindGameObjectsWithTag(string tag)</code>根据标签查找物体，返回所有找到的物体数组</li>
<li>也是只能找到激活的物体</li>
</ul>
</li>
<li>用的比较少的方法（效率更低，是Object类中的方法）<ul>
<li><code>GameObject.FindObjectsOfType&lt;T&gt;()</code>根据类型查找物体，返回所有找到的物体数组（泛型可填特定脚本的名字，用来找到挂载特定脚本的物体）</li>
<li><code>GameObject.FindObjectOfType&lt;T&gt;()</code>根据类型查找物体，返回第一个找到的物体</li>
</ul>
</li>
</ol>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查找场景中的物体</span></span><br><span class="line"><span class="comment">// 查找单个物体</span></span><br><span class="line">GameObject obj2 = GameObject.Find(<span class="string">&quot;MyCube&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (obj2 != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Found MyCube&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;MyCube not found&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 上面的方法效率较低，不推荐使用</span></span><br><span class="line"><span class="comment">// 通过Tag查找</span></span><br><span class="line">GameObject obj3 = GameObject.FindWithTag(<span class="string">&quot;Player&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (obj3 != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Found Player&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Player not found&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查找多个物体</span></span><br><span class="line"><span class="comment">// 通过Tag找到多个对象</span></span><br><span class="line">GameObject[] objs = GameObject.FindGameObjectsWithTag(<span class="string">&quot;Enemy&quot;</span>);</span><br><span class="line">print(<span class="string">&quot;Found &quot;</span> + objs.Length + <span class="string">&quot; Enemies&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>实例化（克隆）对象（动态创建物体）<ul>
<li>准备用来克隆的对象必须是预设体或者场景中的物体</li>
<li><code>GameObject.Instantiate(GameObject original)</code>克隆一个物体，返回克隆后的物体</li>
<li><code>Instantiate</code>方法有多个重载，可以指定位置、旋转和父物体</li>
</ul>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实例化物体</span></span><br><span class="line">GameObject.Instantiate(myObj);</span><br></pre></td></tr></table></figure>

<ul>
<li>销毁对象<ul>
<li><code>GameObject.Destroy(GameObject obj)</code>销毁一个物体</li>
<li>同样也有多个重载，可以指定延迟时间</li>
<li><code>Destroy</code>也可以销毁组件和脚本</li>
<li>移除操作是在下一帧进行的，并从内存中移除</li>
<li><code>DestroyImmediate</code>立即销毁物体，一般只在编辑器模式下使用</li>
</ul>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 销毁物体</span></span><br><span class="line">GameObject.Destroy(obj);</span><br></pre></td></tr></table></figure>

<ul>
<li>过场景不移除物体<ul>
<li><code>GameObject.DontDestroyOnLoad(GameObject obj)</code>设置物体在场景切换时不被销毁<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不销毁物体</span></span><br><span class="line">GameObject.DontDestroyOnLoad(obj);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h3><ul>
<li><p>创建空物体：<code>new GameObject(string name)</code><br>创建一个空的物体，参数为物体名称（可选），也可以加脚本</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建空物体</span></span><br><span class="line">GameObject obj4 = <span class="keyword">new</span> GameObject(<span class="string">&quot;MyEmptyObject&quot;</span>);</span><br><span class="line">print(obj4.name);</span><br><span class="line"><span class="comment">// 创建空物体并添加脚本</span></span><br><span class="line">GameObject obj5 = <span class="keyword">new</span> GameObject(<span class="string">&quot;MyScriptedObject&quot;</span>, <span class="keyword">typeof</span>(Lesson2));</span><br><span class="line">print(obj5.name);</span><br></pre></td></tr></table></figure></li>
<li><p>添加脚本组件：<code>AddComponent&lt;T&gt;()</code><br>为物体添加一个脚本组件，返回添加的脚本组件</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 为物体添加脚本组件</span></span><br><span class="line">Lesson2 lesson = obj4.AddComponent&lt;Lesson2&gt;();</span><br><span class="line">print(lesson);</span><br><span class="line"><span class="comment">// 也可以用类型方式添加（不常用）</span></span><br><span class="line">Lesson2 lesson2 = obj4.AddComponent(<span class="keyword">typeof</span>(Lesson2)) <span class="keyword">as</span> Lesson2;</span><br><span class="line">print(lesson2);</span><br></pre></td></tr></table></figure></li>
<li><p>标签比较：<code>CompareTag(string tag)</code><br>比较物体的标签是否与指定标签相同，返回布尔值</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj4.CompareTag(<span class="string">&quot;Player&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;This is a Player&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;This is not a Player&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置物体激活状态：<code>SetActive(bool value)</code><br>设置物体是否激活</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 激活物体</span></span><br><span class="line">obj4.SetActive(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 禁用物体</span></span><br><span class="line">obj4.SetActive(<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>其他的方法：通过广播或者发送消息的方法，让自己或者别人执行行为方法</p>
<ul>
<li><code>SendMessage(string FunName)</code>：向物体发送消息，调用物体上所有脚本中的指定方法</li>
<li><code>BroadcastMessage(string FunName)</code>：向物体及其所有子物体发送消息，调用所有脚本中的指定方法</li>
</ul>
</li>
</ul>
<h2 id="Time相关内容"><a href="#Time相关内容" class="headerlink" title="Time相关内容"></a>Time相关内容</h2><p>Time是Unity中用于获取时间信息的类，主要用于控制游戏的时间流逝和获取时间相关的信息</p>
<h3 id="时间缩放比例"><a href="#时间缩放比例" class="headerlink" title="时间缩放比例"></a>时间缩放比例</h3><ul>
<li><code>Time.timeScale</code>：获取或设置时间缩放比例，默认值为1.0，设置为0.0时游戏暂停<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置时间缩放比例</span></span><br><span class="line">Time.timeScale = <span class="number">0.5f</span>; <span class="comment">// 游戏时间变慢一半</span></span><br><span class="line">Time.timeScale = <span class="number">1.0f</span>; <span class="comment">// 恢复正常时间</span></span><br><span class="line">Time.timeScale = <span class="number">0.0f</span>; <span class="comment">// 暂停游戏</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="帧间隔时间"><a href="#帧间隔时间" class="headerlink" title="帧间隔时间"></a>帧间隔时间</h3><p>指最近的两帧之间的时间间隔</p>
<ul>
<li><code>Time.deltaTime</code>：获取上一帧到当前帧的时间间隔，单位为秒<br>它会受到时间缩放比例的影响</li>
<li><code>Time.unscaledDeltaTime</code>：获取上一帧到当前帧的时间间隔，单位为秒<br>它不受时间缩放比例的影响<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取帧间隔时间</span></span><br><span class="line">print(<span class="string">&quot;Delta Time: &quot;</span> + Time.deltaTime);</span><br><span class="line">print(<span class="string">&quot;Unscaled Delta Time: &quot;</span> + Time.unscaledDeltaTime);</span><br></pre></td></tr></table></figure>
注意：在编辑器模式下，如果不设置帧率，编辑器会以CPU的最高性能运行，所以帧间隔会很小</li>
</ul>
<p>实际开发这，根据需要去选择参与计算的时间间隔</p>
<h3 id="游戏运行时间"><a href="#游戏运行时间" class="headerlink" title="游戏运行时间"></a>游戏运行时间</h3><p>指游戏从开始运行到当前的总时间（一般用于计时）</p>
<ul>
<li><code>Time.time</code>：获取游戏从开始运行到当前的总时间，单位为秒<br>同样它会受到时间缩放比例的影响</li>
<li><code>Time.unscaledTime</code>：获取游戏从开始运行到当前的总时间，单位为秒<br>它不受时间缩放比例的影响<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取游戏运行时间</span></span><br><span class="line">print(<span class="string">&quot;Game Time: &quot;</span> + Time.time);</span><br><span class="line">print(<span class="string">&quot;Unscaled Game Time: &quot;</span> + Time.unscaledTime);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="物理帧时间"><a href="#物理帧时间" class="headerlink" title="物理帧时间"></a>物理帧时间</h3><p>指物理引擎更新的时间间隔</p>
<ul>
<li><code>Time.fixedDeltaTime</code>：获取物理帧的时间间隔，单位为秒，不受时间缩放比例影响<br>它是一个固定值，默认值为0.02（即50帧每秒），在项目设置的<code>Time</code>中可以调整<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取物理帧时间</span></span><br><span class="line">print(<span class="string">&quot;Fixed Delta Time: &quot;</span> + Time.fixedDeltaTime);</span><br><span class="line">print(<span class="string">&quot;Fixed Unscaled Delta Time: &quot;</span> + Time.fixedUnscaledDeltaTime);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="帧率相关"><a href="#帧率相关" class="headerlink" title="帧率相关"></a>帧率相关</h3><ul>
<li><code>Time.frameCount</code>：获取从游戏开始运行到当前的总帧数<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取总帧数</span></span><br><span class="line">print(<span class="string">&quot;Frame Count: &quot;</span> + Time.frameCount);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Transform相关内容"><a href="#Transform相关内容" class="headerlink" title="Transform相关内容"></a>Transform相关内容</h2><p>Transform是Unity中用于表示物体位置、旋转和缩放的组件，每个GameObject都有一个Transform组件</p>
<h3 id="Vector3"><a href="#Vector3" class="headerlink" title="Vector3"></a>Vector3</h3><p><code>Vector3</code>是Unity中用于表示三维向量和位置的结构体，包含x、y、z三个分量</p>
<ul>
<li><p>创建Vector3</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector3 v1 = <span class="keyword">new</span> Vector3(<span class="number">1.0f</span>, <span class="number">2.0f</span>, <span class="number">3.0f</span>);</span><br><span class="line">Vector3 v2 = <span class="keyword">new</span> Vector3(); <span class="comment">// 默认值为(0, 0, 0)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>基本运算</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Vector3 a = <span class="keyword">new</span> Vector3(<span class="number">1.0f</span>, <span class="number">2.0f</span>, <span class="number">3.0f</span>);</span><br><span class="line">Vector3 b = <span class="keyword">new</span> Vector3(<span class="number">4.0f</span>, <span class="number">5.0f</span>, <span class="number">6.0f</span>);</span><br><span class="line">Vector3 <span class="keyword">add</span> = a + b; <span class="comment">// 向量加法</span></span><br><span class="line">Vector3 sub = a - b; <span class="comment">// 向量减法</span></span><br><span class="line">Vector3 mul = a * <span class="number">2.0f</span>; <span class="comment">// 向量数乘</span></span><br><span class="line">Vector3 div = a / <span class="number">2.0f</span>; <span class="comment">// 向量数除</span></span><br><span class="line"><span class="built_in">float</span> dot = Vector3.Dot(a, b); <span class="comment">// 向量点积</span></span><br><span class="line">Vector3 cross = Vector3.Cross(a, b); <span class="comment">// 向量叉积</span></span><br><span class="line"><span class="built_in">float</span> magnitude = a.magnitude; <span class="comment">// 向量长度</span></span><br><span class="line">Vector3 normalized = a.normalized; <span class="comment">// 单位向量</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>一些常用的量</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vector3 v3 = Vector3.zero; <span class="comment">// 零向量(0, 0, 0)</span></span><br><span class="line">Vector3 v4 = Vector3.one; <span class="comment">// 单位向量(1, 1, 1)</span></span><br><span class="line">Vector3 v5 = Vector3.up; <span class="comment">// 上方向向量(0, 1, 0)</span></span><br><span class="line">Vector3 v6 = Vector3.down; <span class="comment">// 下方向向量(0, -1, 0)</span></span><br><span class="line">Vector3 v7 = Vector3.left; <span class="comment">// 左方向向量(-1, 0, 0)</span></span><br><span class="line">Vector3 v8 = Vector3.right; <span class="comment">// 右方向向量(1, 0, 0)</span></span><br><span class="line">Vector3 v9 = Vector3.forward; <span class="comment">// 前方向向量(0, 0, 1)</span></span><br><span class="line">Vector3 v10 = Vector3.back; <span class="comment">// 后方向向量(0, 0, -1)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>计算距离的方法<br>Distance：计算两个点（向量）之间的距离</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vector3 p1 = <span class="keyword">new</span> Vector3(<span class="number">1.0f</span>, <span class="number">2.0f</span>, <span class="number">3.0f</span>);</span><br><span class="line">Vector3 p2 = <span class="keyword">new</span> Vector3(<span class="number">4.0f</span>, <span class="number">5.0f</span>, <span class="number">6.0f</span>);</span><br><span class="line"><span class="built_in">float</span> distance = Vector3.Distance(p1, p2);</span><br><span class="line">print(<span class="string">&quot;Distance: &quot;</span> + distance);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="位置"><a href="#位置" class="headerlink" title="位置"></a>位置</h3><ul>
<li>获取或设置物体的位置<ul>
<li><code>transform.position</code>：获取或设置物体在世界坐标系中的位置</li>
<li><code>transform.localPosition</code>：获取或设置物体在父物体坐标系中的位置</li>
</ul>
</li>
</ul>
<p>位置的设置不能单一改变某一个分量，只能整体赋值</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取物体位置</span></span><br><span class="line">Vector3 worldPosition = transform.position;</span><br><span class="line">Vector3 localPosition = transform.localPosition;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置物体位置</span></span><br><span class="line">transform.position = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>);</span><br><span class="line">transform.localPosition = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>或者可以先获取位置，然后修改某个分量，再赋值回去</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vector3 pos = transform.position;</span><br><span class="line">pos.y = <span class="number">10.0f</span>;</span><br><span class="line">transform.position = pos;</span><br></pre></td></tr></table></figure>

<ul>
<li>对象的朝向<ul>
<li><code>transform.forward</code>：获取物体的前方向向量</li>
<li><code>transform.up</code>：获取物体的上方向向量</li>
<li><code>transform.right</code>：获取物体的右方向向量<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vector3 forward = transform.forward;</span><br><span class="line">Vector3 up = transform.up;</span><br><span class="line">Vector3 right = transform.right;</span><br><span class="line">print(<span class="string">&quot;Forward: &quot;</span> + forward);</span><br><span class="line">print(<span class="string">&quot;Up: &quot;</span> + up);</span><br><span class="line">print(<span class="string">&quot;Right: &quot;</span> + right);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="位移"><a href="#位移" class="headerlink" title="位移"></a>位移</h3><p>理解坐标系下的位移计算</p>
<ul>
<li><p>自己计算：当前位置 + 方向向量 * 速度 * 时间</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.position += <span class="keyword">this</span>.transform.forward * <span class="number">5.0f</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>API计算：<code>Transform.Translate(Vector3 translation)</code></p>
<ul>
<li><code>translation</code>：位移向量</li>
<li><code>relativeTo</code>：（可选参数）相对空间，默认是相对于自身坐标系（<code>Space.Self</code>），也可以选择相对于世界坐标系（<code>Space.World</code>）<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.Translate(Vector3.forward * <span class="number">5.0f</span>);</span><br><span class="line"><span class="keyword">this</span>.transform.Translate(Vector3.forward * <span class="number">5.0f</span>, Space.World);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="角度与旋转"><a href="#角度与旋转" class="headerlink" title="角度与旋转"></a>角度与旋转</h3><ul>
<li><p>获取或设置物体的旋转</p>
<ul>
<li><code>transform.rotation</code>：获取或设置物体在世界坐标系中的旋转，返回值为四元数（Quaternion）</li>
<li><code>transform.localRotation</code>：获取或设置物体在父物体坐标系中的旋转，返回值为四元数（Quaternion）</li>
<li><code>transform.eulerAngles</code>：获取或设置物体在世界坐标系中的旋转，返回值为欧拉角（Vector3）</li>
<li><code>transform.localEulerAngles</code>：获取或设置物体在父物体坐标系中的旋转，返回值为欧拉角（Vector3）<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取物体旋转</span></span><br><span class="line">Quaternion worldRotation = transform.rotation;</span><br><span class="line">Quaternion localRotation = transform.localRotation;</span><br><span class="line">Vector3 worldEulerAngles = transform.eulerAngles;</span><br><span class="line">Vector3 localEulerAngles = transform.localEulerAngles;</span><br><span class="line"><span class="comment">// 设置物体旋转</span></span><br><span class="line">transform.rotation = Quaternion.Euler(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>);</span><br><span class="line">transform.localRotation = Quaternion.Euler(<span class="number">0</span>, <span class="number">45</span>, <span class="number">0</span>);</span><br><span class="line">transform.eulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>);</span><br><span class="line">transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">45</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>旋转物体</p>
<ul>
<li><code>Transform.Rotate(Vector3 eulerAngles)</code>：绕每个轴旋转指定的欧拉角</li>
<li><code>Transform.Rotate(Vector3 axis, float angle)</code>：绕指定轴旋转指定的角度</li>
<li><code>relativeTo</code>：（可选参数）相对空间，默认是相对于自身坐标系（<code>Space.Self</code>），也可以选择相对于世界坐标系（<code>Space.World</code>）<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.Rotate(<span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>));</span><br><span class="line"><span class="keyword">this</span>.transform.Rotate(<span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>), Space.World);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>也可以让它实现自转</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.Rotate(Vector3.up * <span class="number">90.0f</span> * Time.deltaTime);</span><br></pre></td></tr></table></figure>

<p>相对于某个轴旋转</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.Rotate(Vector3.right, <span class="number">90.0f</span> * Time.deltaTime);</span><br></pre></td></tr></table></figure>
<p>绕轴旋转中的<code>RotateAround</code>方法已弃用，所以直接使用<code>transform.Rotate</code>来实现</p>
<p>相对于一个点旋转</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.RotateAround(Vector3.zero, Vector3.up, <span class="number">90.0f</span> * Time.deltaTime);</span><br></pre></td></tr></table></figure>

<h3 id="缩放与看向"><a href="#缩放与看向" class="headerlink" title="缩放与看向"></a>缩放与看向</h3><ul>
<li>获取或设置物体的缩放<ul>
<li><code>transform.localScale</code>：获取或设置物体在父物体坐标系中的缩放，返回值为Vector3</li>
<li><code>transform.lossyScale</code>：获取物体在世界坐标系中的缩放，返回值为Vector3（只读）</li>
</ul>
</li>
</ul>
<p>世界坐标系下的缩放不能修改，只能修改局部缩放</p>
<p>且不能只修改某一个分量，只能整体赋值</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.localScale = <span class="keyword">new</span> Vector3(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>Unity也没有直接设置缩放的API，只能通过修改<code>localScale</code>来实现</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.localScale += Vector3.one * Time.deltaTime;</span><br></pre></td></tr></table></figure>
<p>可以通过上面的方式来实现逐渐放大</p>
<ul>
<li>让物体看向某个点<ul>
<li><code>Transform.LookAt(Vector3 target)</code>：让物体朝向指定的目标点<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">transform.LookAt(<span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">transform.LookAt(targetTransform.position);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><code>Transform.LookAt(Transform target)</code>：让物体朝向指定的目标物体<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.LookAt(targetTransform);</span><br></pre></td></tr></table></figure>
这个方法可以用在摄像机上，让摄像机始终看向某个物体</li>
</ul>
<h3 id="父子关系"><a href="#父子关系" class="headerlink" title="父子关系"></a>父子关系</h3><ul>
<li><p>获取或设置物体的父物体</p>
<ul>
<li><code>transform.parent</code>：获取或设置物体的父物体的Transform组件</li>
<li><code>transform.SetParent(Transform parent)</code>：设置物体的父物体</li>
<li><code>transform.SetParent(Transform parent, bool worldPositionStays)</code>：设置物体的父物体，并指定是否保持世界位置不变<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取</span></span><br><span class="line">Transform parentTransform = transform.parent;</span><br><span class="line"><span class="comment">// 设置</span></span><br><span class="line">transform.parent = newParentTransform;</span><br><span class="line">transform.parent = <span class="literal">null</span>; <span class="comment">// 清除父对象</span></span><br><span class="line">transform.SetParent(<span class="string">&quot;Cube&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>去除所有子对象</p>
<ul>
<li><code>transform.DetachChildren()</code>：将物体的所有子物体从该物体中分离出来，变为独立的物体<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.DetachChildren();</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>获取子对象</p>
<ul>
<li><code>transform.Find(string name)</code>：按名字查找子物体，返回第一个找到的子物体的Transform组件（Find能找到非激活的子物体）</li>
<li><code>transform.childCount</code>：获取子物体的数量<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Transform childTransform = transform.Find(<span class="string">&quot;ChildName&quot;</span>);</span><br><span class="line"><span class="built_in">int</span> childCount = transform.childCount;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>根据索引获取子物体</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; transform.childCount; i++)</span><br><span class="line">&#123;</span><br><span class="line">    Transform child = transform.GetChild(i);</span><br><span class="line">    print(<span class="string">&quot;Child &quot;</span> + i + <span class="string">&quot;: &quot;</span> + child.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>子对象的操作<ul>
<li><code>transform.IsChildOf(Transform parent)</code>：判断物体是否是指定父物体的子物体，返回布尔值</li>
<li><code>transform.GetSiblingIndex()</code>：获取物体在兄弟物体中的索引</li>
<li><code>transform.SetAsFirstSibling()</code>：将物体设置为兄弟物体中的第一个</li>
<li><code>transform.SetAsLastSibling()</code>：将物体设置为兄弟物体中的最后一个</li>
<li><code>transform.SetSiblingIndex(int index)</code>：将物体设置为兄弟物体中的指定索引位置（超出范围则设置为最后一个）</li>
</ul>
</li>
</ul>
<h3 id="坐标转换"><a href="#坐标转换" class="headerlink" title="坐标转换"></a>坐标转换</h3><ul>
<li><p>世界坐标系转换为局部坐标系</p>
<ul>
<li><code>transform.InverseTransformPoint(Vector3 position)</code>：将世界坐标系中的点转换为物体的局部坐标系中的点（会受缩放影响）</li>
<li><code>transform.InverseTransformDirection(Vector3 direction)</code>：将世界坐标系中的方向转换为物体的局部坐标系中的方向（不受缩放影响）</li>
<li><code>transform.InverseTransformVector(Vector3 vector)</code>：将世界坐标系中的向量转换为物体的局部坐标系中的向量（会受缩放影响）<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector3 localPos = transform.InverseTransformPoint(<span class="keyword">new</span> Vector3(<span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">print(<span class="string">&quot;Local Position: &quot;</span> + localPos);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>局部坐标系转换为世界坐标系</p>
<ul>
<li><code>transform.TransformPoint(Vector3 pos)</code>：将局部坐标系的点转换到世界坐标系中</li>
<li><code>transform.TransformDirection(Vector3 direction)</code>：将局部坐标系的方向转换到世界坐标系中</li>
<li><code>transform.TransformVector(Vector3 vector)</code>：将局部坐标系中的向量转换到世界坐标系中</li>
</ul>
</li>
</ul>
<h2 id="输入Input"><a href="#输入Input" class="headerlink" title="输入Input"></a>输入Input</h2><h3 id="鼠标所在位置"><a href="#鼠标所在位置" class="headerlink" title="鼠标所在位置"></a>鼠标所在位置</h3><ul>
<li><code>Input.mousePosition</code>：获取鼠标在屏幕坐标系中的位置，返回值为Vector3，z分量为0<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector3 mousePos = Input.mousePosition;</span><br><span class="line">print(<span class="string">&quot;Mouse Position: &quot;</span> + mousePos);</span><br></pre></td></tr></table></figure>
屏幕坐标的原点是在左下角，x轴向右，y轴向上</li>
</ul>
<h3 id="鼠标按键状态"><a href="#鼠标按键状态" class="headerlink" title="鼠标按键状态"></a>鼠标按键状态</h3><ul>
<li><p><code>Input.GetMouseButtonDown(int button)</code>：鼠标按下一瞬间执行，返回布尔值</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.GetMouseButtonDown(<span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Left Mouse Button is just pressed&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>Input.GetMouseButtonUp(int button)</code>：鼠标抬起一瞬间执行，返回布尔值</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.GetMouseButtonUp(<span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Left Mouse Button is just released&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>Input.GetMouseButton(int button)</code>：鼠标持续按下时执行，返回布尔值</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.GetMouseButton(<span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Left Mouse Button is being held down&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>button</code>参数表示鼠标按键，0表示左键，1表示右键，2表示中键</p>
</li>
<li><p><code>Input.mouseScrollDelta</code>：获取鼠标滚轮的滚动增量，返回值为Vector2，y分量表示滚动方向和幅度</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector2 scrollDelta = Input.mouseScrollDelta;</span><br><span class="line">print(<span class="string">&quot;Mouse Scroll Delta: &quot;</span> + scrollDelta);</span><br></pre></td></tr></table></figure>
<p><code>-1</code>表示向下滚动，<code>1</code>表示向上滚动，<code>0</code>表示没有滚动</p>
</li>
</ul>
<h3 id="键盘按键状态"><a href="#键盘按键状态" class="headerlink" title="键盘按键状态"></a>键盘按键状态</h3><ul>
<li><code>Input.GetKeyDown(KeyCode key)</code>：按键按下一瞬间执行，返回布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Space))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Space key is just pressed&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 另一个重载方法（不能大写）</span></span><br><span class="line"><span class="keyword">if</span> (Input.GetKeyDown(<span class="string">&quot;space&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Space key is just pressed&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><code>Input.GetKeyUp(KeyCode key)</code>：按键抬起一瞬间执行，返回布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.GetKeyUp(KeyCode.Space))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Space key is just released&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><code>Input.GetKey(KeyCode key)</code>：按键持续按下时执行，返回布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.GetKey(KeyCode.Space))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Space key is being held down&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<code>KeyCode</code>枚举包含了所有键盘按键的定义</li>
</ul>
<h3 id="输入轴"><a href="#输入轴" class="headerlink" title="输入轴"></a>输入轴</h3><p>控制轴输入是一种抽象的输入方式，可以通过配置输入轴来实现对多个按键或控制器的支持<br>也是<code>Unity</code>为开发者提供的一种方便的输入处理方式，更好地处理对象的移动和操作</p>
<ul>
<li>AD键返回-1至1之间的值，A键为-1，D键为1，X轴</li>
<li>WS键返回-1至1之间的值，S键为-1，W键为1，Y轴</li>
</ul>
<p>在<code>Edit -&gt; Project Settings -&gt; Input Manager</code>中可以查看和修改输入轴的配置</p>
<ul>
<li><p><code>Input.GetAxis(string axisName)</code>：获取指定输入轴的值，返回值为浮点数</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span> horizontal = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>); <span class="comment">// X轴</span></span><br><span class="line"><span class="built_in">float</span> vertical = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>); <span class="comment">// Y轴</span></span><br><span class="line">print(<span class="string">&quot;Horizontal: &quot;</span> + horizontal + <span class="string">&quot;, Vertical: &quot;</span> + vertical);</span><br><span class="line"></span><br><span class="line"><span class="built_in">float</span> mouseX = Input.GetAxis(<span class="string">&quot;Mouse X&quot;</span>); <span class="comment">// 鼠标X轴</span></span><br><span class="line"><span class="built_in">float</span> mouseY = Input.GetAxis(<span class="string">&quot;Mouse Y&quot;</span>); <span class="comment">// 鼠标Y轴</span></span><br><span class="line">print(<span class="string">&quot;Mouse X: &quot;</span> + mouseX + <span class="string">&quot;, Mouse Y: &quot;</span> + mouseY);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Input.GetAxisRaw(string axisName)</code>：获取指定输入轴的原始值，返回值为浮点数<br>它的返回值没有中间值，只有-1、0、1三种状态</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span> horizontalRaw = Input.GetAxisRaw(<span class="string">&quot;Horizontal&quot;</span>); <span class="comment">// X轴</span></span><br><span class="line"><span class="built_in">float</span> verticalRaw = Input.GetAxisRaw(<span class="string">&quot;Vertical&quot;</span>); <span class="comment">// Y轴</span></span><br><span class="line">print(<span class="string">&quot;Horizontal Raw: &quot;</span> + horizontalRaw + <span class="string">&quot;, Vertical Raw: &quot;</span> + verticalRaw);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><code>Input.anyKey</code>：检测是否有任意按键被按下，返回布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.anyKey)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Some key is being pressed&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><code>Input.anyKeyDown</code>：检测是否有任意按键刚刚被按下，返回布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.anyKeyDown)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Some key is just pressed&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><code>Input.inputString</code>：获取当前帧输入的字符串，返回值为字符串<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> inputStr = Input.inputString;</span><br><span class="line">print(<span class="string">&quot;Input String: &quot;</span> + inputStr);</span><br></pre></td></tr></table></figure></li>
<li><code>Input.GetJoystickNames()</code>：获取连接的所有手柄名称，返回值为字符串数组<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>[] joystickNames = Input.GetJoystickNames();</span><br><span class="line"><span class="keyword">foreach</span> (<span class="built_in">string</span> name <span class="keyword">in</span> joystickNames)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Joystick Name: &quot;</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><code>Input.touches</code>：获取当前所有触摸点的信息，返回值为Touch数组<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Touch[] touches = Input.touches;</span><br><span class="line"><span class="keyword">foreach</span> (Touch touch <span class="keyword">in</span> touches)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Touch Position: &quot;</span> + touch.position);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><code>Input.touchCount</code>：获取当前触摸点的数量，返回值为整数<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> touchCount = Input.touchCount;</span><br><span class="line">print(<span class="string">&quot;Touch Count: &quot;</span> + touchCount);</span><br></pre></td></tr></table></figure></li>
<li><code>Input.multiTouchEnabled</code>：获取或设置是否启用多点触控，返回值为布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> isMultiTouchEnabled = Input.multiTouchEnabled;</span><br><span class="line">print(<span class="string">&quot;Multi-Touch Enabled: &quot;</span> + isMultiTouchEnabled);</span><br><span class="line">Input.multiTouchEnabled = <span class="literal">true</span>; <span class="comment">// 启用多点触控</span></span><br></pre></td></tr></table></figure></li>
<li><code>Input.gyro</code>：获取设备的陀螺仪信息，返回值为Gyroscope对象<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Gyroscope gyro = Input.gyro;</span><br><span class="line">print(<span class="string">&quot;Gyro Attitude: &quot;</span> + gyro.attitude);</span><br><span class="line">gyro.enabled = <span class="literal">true</span>; <span class="comment">// 启用陀螺仪</span></span><br><span class="line">print(<span class="string">&quot;Gravity: &quot;</span> + Input.gyro.gravity); <span class="comment">// 获取重力加速度</span></span><br><span class="line">print(<span class="string">&quot;Rotation Rate: &quot;</span> + Input.gyro.rotationRate); <span class="comment">// 获取旋转速率</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Screen相关内容"><a href="#Screen相关内容" class="headerlink" title="Screen相关内容"></a>Screen相关内容</h2><p><code>Screen</code>类用于获取和设置屏幕相关的信息</p>
<h3 id="屏幕分辨率"><a href="#屏幕分辨率" class="headerlink" title="屏幕分辨率"></a>屏幕分辨率</h3><ul>
<li><code>Screen.currentResolution</code>：获取当前屏幕（显示器）的分辨率，返回值为Resolution结构体</li>
<li><code>currentResolution</code>结构体包含以下成员变量：<ul>
<li><code>width</code>：屏幕宽度，单位为像素</li>
<li><code>height</code>：屏幕高度，单位为像素</li>
<li><code>refreshRate</code>：屏幕刷新率，单位为赫兹Hz<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resolution res = Screen.currentResolution;</span><br><span class="line">print(<span class="string">&quot;Current Resolution: &quot;</span> + res.width + <span class="string">&quot;x&quot;</span> + res.height + <span class="string">&quot; @ &quot;</span> + res.refreshRate + <span class="string">&quot;Hz&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><code>Screen.width</code>：获取屏幕的宽度，单位为像素</li>
<li><code>Screen.height</code>：获取屏幕的高度，单位为像素<br>以上两个属性返回当前游戏窗口的宽度和高度<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;Screen Width: &quot;</span> + Screen.width);</span><br><span class="line">print(<span class="string">&quot;Screen Height: &quot;</span> + Screen.height);</span><br></pre></td></tr></table></figure></li>
<li><code>Screen.sleepTimeout</code>：获取或设置屏幕休眠超时时间，单位为秒<ul>
<li>设置为<code>SleepTimeout.NeverSleep</code>表示永不休眠<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Screen.sleepTimeout = SleepTimeout.NeverSleep;</span><br><span class="line">print(<span class="string">&quot;Sleep Timeout: &quot;</span> + Screen.sleepTimeout);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="全屏与窗口模式"><a href="#全屏与窗口模式" class="headerlink" title="全屏与窗口模式"></a>全屏与窗口模式</h3><ul>
<li><code>Screen.fullScreen</code>：获取或设置是否为全屏模式，返回值为布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Screen.fullScreen = <span class="literal">true</span>; <span class="comment">// 设置为全屏模式</span></span><br><span class="line">print(<span class="string">&quot;Is Fullscreen: &quot;</span> + Screen.fullScreen);</span><br><span class="line">Screen.fullScreen = <span class="literal">false</span>; <span class="comment">// 设置为窗口模式</span></span><br><span class="line">print(<span class="string">&quot;Is Fullscreen: &quot;</span> + Screen.fullScreen);</span><br></pre></td></tr></table></figure></li>
<li><code>Screen.fullScreenMode</code>：获取或设置全屏模式，返回值为FullScreenMode枚举<ul>
<li><code>FullScreenMode.ExclusiveFullScreen</code>：独占全屏模式</li>
<li><code>FullScreenMode.FullScreenWindow</code>：全屏窗口模式</li>
<li><code>FullScreenMode.MaximizedWindow</code>：最大化窗口模式</li>
<li><code>FullScreenMode.Windowed</code>：窗口模式<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Screen.fullScreenMode = FullScreenMode.FullScreenWindow;</span><br><span class="line">print(<span class="string">&quot;FullScreen Mode: &quot;</span> + Screen.fullScreenMode);</span><br><span class="line">Screen.fullScreenMode = FullScreenMode.Windowed;</span><br><span class="line">print(<span class="string">&quot;FullScreen Mode: &quot;</span> + Screen.fullScreenMode);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="移动设备屏幕方向"><a href="#移动设备屏幕方向" class="headerlink" title="移动设备屏幕方向"></a>移动设备屏幕方向</h3><ul>
<li><code>Screen.autoRotationToLandscapeLeft</code>：获取或设置是否允许自动旋转到左横屏模式，返回值为布尔值</li>
<li><code>Screen.autoRotationToLandscapeRight</code>：获取或设置是否允许自动旋转到右横屏模式，返回值为布尔值</li>
<li><code>Screen.autoRotationToPortrait</code>：获取或设置是否允许自动旋转到竖屏模式，返回值为布尔值</li>
<li><code>Screen.autoRotationToPortraitUpsideDown</code>：获取或设置是否允许自动旋转到倒竖屏模式，返回值为布尔值</li>
<li><code>Screen.orientation</code>：获取或设置屏幕的当前方向，返回值为ScreenOrientation枚举<ul>
<li><code>ScreenOrientation.Portrait</code>：竖屏模式</li>
<li><code>ScreenOrientation.LandscapeLeft</code>：左横屏模式</li>
<li><code>ScreenOrientation.LandscapeRight</code>：右横屏模式</li>
<li><code>ScreenOrientation.PortraitUpsideDown</code>：倒竖屏模式</li>
<li><code>ScreenOrientation.AutoRotation</code>：自动旋转模式</li>
</ul>
</li>
</ul>
<h3 id="设置分辨率"><a href="#设置分辨率" class="headerlink" title="设置分辨率"></a>设置分辨率</h3><ul>
<li><code>Screen.SetResolution(int width, int height, bool fullscreen)</code>：设置屏幕分辨率和全屏模式<ul>
<li><code>width</code>：屏幕宽度，单位为像素</li>
<li><code>height</code>：屏幕高度，单位为像素</li>
<li><code>fullscreen</code>：是否为全屏模式，布尔值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Screen.SetResolution(<span class="number">1920</span>, <span class="number">1080</span>, <span class="literal">true</span>);</span><br><span class="line">print(<span class="string">&quot;Resolution Set to 1920x1080 Fullscreen&quot;</span>);</span><br><span class="line">Screen.SetResolution(<span class="number">1280</span>, <span class="number">720</span>, <span class="literal">false</span>);</span><br><span class="line">print(<span class="string">&quot;Resolution Set to 1280x720 Windowed&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="Camera相关内容"><a href="#Camera相关内容" class="headerlink" title="Camera相关内容"></a>Camera相关内容</h2><p>以下内容是组件中的参数设置</p>
<h3 id="Clear-Flags"><a href="#Clear-Flags" class="headerlink" title="Clear Flags"></a>Clear Flags</h3><ul>
<li><code>Skybox</code>：使用天空盒清除背景</li>
<li><code>Solid Color</code>：使用纯色清除背景</li>
<li><code>Depth Only</code>：只清除深度缓冲区，只画该层，背景透明</li>
<li><code>Don&#39;t Clear</code>：不清除任何缓冲区，直接在上面绘制</li>
</ul>
<h3 id="Culling-Mask"><a href="#Culling-Mask" class="headerlink" title="Culling Mask"></a>Culling Mask</h3><ul>
<li>用于设置摄像机渲染哪些层级的物体，可以通过勾选或取消勾选来控制摄像机的渲染范围</li>
</ul>
<h3 id="Projection"><a href="#Projection" class="headerlink" title="Projection"></a>Projection</h3><ul>
<li><code>Perspective</code>：透视投影<ul>
<li><code>FOV Axis</code>：视野轴，可以选择水平视野（Horizontal）或垂直视野（Vertical）</li>
<li><code>Field of View</code>：视野角度，表示摄像机的视野范围，单位为度</li>
<li><code>Physical Camera</code>：物理摄像机选项，启用后可以模拟真实摄像机的参数</li>
</ul>
</li>
<li><code>Orthographic</code>：正交投影，一般用于2D游戏开发<ul>
<li><code>Size</code>：正交大小，表示摄像机的视野范围</li>
</ul>
</li>
</ul>
<h3 id="Clipping-Planes"><a href="#Clipping-Planes" class="headerlink" title="Clipping Planes"></a>Clipping Planes</h3><ul>
<li><code>Near</code>：近裁剪面，表示摄像机能够看到的最近距离（即离摄像机多近的物体会被渲染）</li>
<li><code>Far</code>：远裁剪面，表示摄像机能够看到的最远距离（即离摄像机多远的物体会被渲染）</li>
</ul>
<h3 id="Depth"><a href="#Depth" class="headerlink" title="Depth"></a>Depth</h3><ul>
<li>用于设置摄像机的渲染顺序，数值越大，渲染优先级越高<br>在制作UI界面时，通常会将UI摄像机的Depth值设置得比主摄像机高，以确保UI元素能够正确显示在前景，同时也可以保证后面的3D场景不会被UI遮挡</li>
</ul>
<h3 id="Target-Texture"><a href="#Target-Texture" class="headerlink" title="Target Texture"></a>Target Texture</h3><ul>
<li>用于将摄像机的渲染结果输出到一个Render Texture（渲染纹理）中，而不是直接显示在屏幕上，主要用于制作小地图等</li>
</ul>
<h3 id="Occlusion-Culling"><a href="#Occlusion-Culling" class="headerlink" title="Occlusion Culling"></a>Occlusion Culling</h3><ul>
<li>用于启用或禁用遮挡剔除功能，提升渲染性能<br>当摄像机启用遮挡剔除功能时，只有摄像机视野内且未被其他物体遮挡的物体才会被渲染，从而减少不必要的渲染计算，提高游戏性能</li>
</ul>
<h3 id="Viewport-Rect"><a href="#Viewport-Rect" class="headerlink" title="Viewport Rect"></a>Viewport Rect</h3><ul>
<li>用于设置摄像机在屏幕上的显示区域，参数包括X、Y、Width、Height，取值范围为0到1</li>
</ul>
<h3 id="Rendering-Path"><a href="#Rendering-Path" class="headerlink" title="Rendering Path"></a>Rendering Path</h3><ul>
<li>用于设置摄像机的渲染路径，常用的有以下几种：<ul>
<li><code>Use Graphics Settings</code>：使用图形设置中的渲染路径</li>
<li><code>Forward</code>：前向渲染路径</li>
<li><code>Deferred</code>：延迟渲染路径</li>
<li><code>Legacy Vertex Lit</code>：传统顶点光照渲染路径</li>
</ul>
</li>
</ul>
<h3 id="Allow-HDR"><a href="#Allow-HDR" class="headerlink" title="Allow HDR"></a>Allow HDR</h3><ul>
<li>用于启用或禁用高动态范围渲染（HDR），提升图像质量</li>
</ul>
<h3 id="Allow-MSAA"><a href="#Allow-MSAA" class="headerlink" title="Allow MSAA"></a>Allow MSAA</h3><ul>
<li>用于启用或禁用多重采样抗锯齿（MSAA），提升图像质量</li>
</ul>
<h3 id="Allow-Dynamic-Resolution"><a href="#Allow-Dynamic-Resolution" class="headerlink" title="Allow Dynamic Resolution"></a>Allow Dynamic Resolution</h3><ul>
<li>用于启用或禁用动态分辨率调整，提升性能</li>
</ul>
<h3 id="Target-Display"><a href="#Target-Display" class="headerlink" title="Target Display"></a>Target Display</h3><ul>
<li>用于设置摄像机渲染到哪个显示器，适用于多显示器环境</li>
</ul>
<h3 id="代码相关"><a href="#代码相关" class="headerlink" title="代码相关"></a>代码相关</h3><ul>
<li><p><code>Camera.main</code>：获取场景中标记为<code>MainCamera</code>的摄像机</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Camera mainCamera = Camera.main;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Camera.allCameras</code>：得到所有摄像机</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Camera[] allCameras = Camera.allCameras;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Camera.current</code>：获取当前正在渲染的摄像机</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Camera currentCamera = Camera.current;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Camera.onPreCull</code>：委托，剔除前处理</p>
</li>
<li><p><code>Camera.onPreRender</code>：委托，渲染前处理</p>
</li>
<li><p><code>Camera.onPostRender</code>：委托，渲染后处理</p>
</li>
<li><p><code>Camera.main.depth</code>：获取或设置主摄像机的深度</p>
</li>
<li><p><code>Camera.main.WorldToScreenPoint</code>：世界坐标转换为屏幕坐标（比如敌人上方的血条）</p>
</li>
<li><p><code>Camera.main.ScreenToWorldPoint</code>：屏幕坐标转换为世界坐标（注意传入坐标的z，为0则直接在摄像机焦点上，不为0则在距离该距离的横截面上）</p>
</li>
</ul>
<h1 id="核心系统"><a href="#核心系统" class="headerlink" title="核心系统"></a>核心系统</h1><h2 id="光源组件"><a href="#光源组件" class="headerlink" title="光源组件"></a>光源组件</h2><p>参数面板上的内容</p>
<ul>
<li><p><code>Type</code>：光源类型，有三种类型</p>
<ul>
<li><code>Directional</code>：方向光，模拟太阳光，光线平行，适用于大范围照明</li>
<li><code>Point</code>：点光源，向各个方向发射光线，适用于局部照明</li>
<li><code>Spot</code>：聚光灯，向一个方向发射锥形光线，适用于舞台灯光等效果</li>
<li><code>Area (Baked Only)</code>：面光源，仅在烘焙后使用</li>
</ul>
</li>
<li><p><code>Color</code>：光的颜色</p>
</li>
<li><p><code>Mode</code>：光源模式</p>
<ul>
<li><code>Realtime</code>：实时运算</li>
<li><code>Baked</code>：烘焙光源</li>
<li><code>Mixed</code>：混合计算</li>
</ul>
</li>
<li><p><code>Intensity</code>：光照强度</p>
</li>
<li><p><code>Shadow Type</code>：阴影设置</p>
<ul>
<li><code>NoShadow</code>：关闭阴影</li>
<li><code>HardShadows</code>：硬边阴影</li>
<li><code>SoftShadows</code>：柔边阴影</li>
</ul>
</li>
<li><p><code>Cookie</code>：投影遮罩</p>
</li>
<li><p><code>Draw Halo</code>：光晕效果</p>
</li>
<li><p><code>Flare</code>：耀斑（要摄像机能看到需要加<code>Flare</code>组件）</p>
</li>
<li><p><code>Culling Mask</code>：剔除遮罩层</p>
</li>
<li><p><code>Indirect Multiplier</code>：间接光设置</p>
</li>
<li><p><code>Realtime Shadows</code>：实时阴影设置</p>
</li>
<li><p><code>Cookie Size</code>：遮罩大小</p>
</li>
<li><p><code>Render Mode</code>：渲染设置</p>
</li>
</ul>
<p>代码部分</p>
<ul>
<li><code>light.intensity</code>：光源强度</li>
</ul>
<p>光面板<br>在<code>Window</code>-&gt;<code>Rendering</code>-&gt;<code>Lighting Settings</code>打开光源面板设置</p>
<ul>
<li><p><code>Environment</code>：环境设置</p>
<ul>
<li><code>Skybox Material</code>：天空盒材质</li>
<li><code>Sun Source</code>：太阳光</li>
<li><code>Environment Lighting</code>：环境光照</li>
</ul>
</li>
<li><p><code>Other Settings</code>：其他设置</p>
<ul>
<li><code>Fog</code>：雾效</li>
<li><code>Halo Texture</code>：光晕纹理</li>
<li><code>Halo Strength</code>：光晕强度</li>
<li><code>Flare Fade Speed</code>：耀斑淡出速度</li>
<li><code>Flare Strength</code>：耀斑强度</li>
<li><code>Spot Cookie</code>：聚光灯遮罩</li>
</ul>
</li>
</ul>
<h2 id="物理系统"><a href="#物理系统" class="headerlink" title="物理系统"></a>物理系统</h2><h3 id="刚体"><a href="#刚体" class="headerlink" title="刚体"></a>刚体</h3><p>两个物体要产生碰撞，两个物体都要有碰撞器，且至少有一个物体有刚体组件</p>
<p>刚体组件是Rigidbody，用于给物体添加物理属性，使其能够受到物理引擎的影响</p>
<ul>
<li><code>Mass</code>：质量，影响物体的惯性和受力效果，质量越大，物体惯性越大</li>
<li><code>Drag</code>：线性阻力，影响物体在运动中的速度，0表示无阻力</li>
<li><code>Angular Drag</code>：角阻力，影响物体旋转时的速度，0表示无阻力</li>
<li><code>Use Gravity</code>：是否使用重力，勾选后物体会受到重力影响</li>
<li><code>Is Kinematic</code>：是否为运动学刚体，勾选后物体不会受到物理引擎的影响，可以通过脚本控制其运动</li>
<li><code>Interpolate</code>：插值模式，影响物体运动的平滑度<ul>
<li><code>None</code>：不使用插值</li>
<li><code>Interpolate</code>：使用前一帧的位置进行插值</li>
<li><code>Extrapolate</code>：使用后一帧的位置进行插值</li>
</ul>
</li>
<li><code>Collision Detection</code>：碰撞检测模式，影响物体碰撞的精度<ul>
<li><code>Discrete</code>：离散碰撞检测，默认模式，适用于大多数情况，性能最好</li>
<li><code>Continuous</code>：连续碰撞检测，对快速移动的物体使用离散检测，对静态物体使用连续检测，性能较差</li>
<li><code>Continuous Dynamic</code>：动态连续碰撞检测，性能开销最大，适用于高速移动的物体</li>
<li><code>Continuous Speculative</code>：推测连续碰撞检测，适用于高速移动的物体，比连续碰撞检测性能更好</li>
</ul>
</li>
<li><code>Constraints</code>：约束选项，可以锁定物体的某些轴向位置或旋转，防止其在这些方向上移动或旋转</li>
</ul>
<h3 id="碰撞器"><a href="#碰撞器" class="headerlink" title="碰撞器"></a>碰撞器</h3><p>碰撞器用于定义物体的碰撞范围，使其能够与其他物体发生碰撞</p>
<p>默认显示的碰撞器颜色是绿色，选中时为黄色</p>
<p>默认的几何体都有碰撞器组件，组件名为<code>Collider</code><br>常用的碰撞器类型有（3D）：</p>
<ul>
<li><code>Box Collider</code>：盒状碰撞器，适用于立方体等方形物体</li>
<li><code>Sphere Collider</code>：球状碰撞器，适用于球体等圆形物体</li>
<li><code>Capsule Collider</code>：胶囊状碰撞器，适用于角色等物体</li>
<li><code>Mesh Collider</code>：网格碰撞器，适用于复杂形状的物体，但性能较差</li>
<li><code>Wheel Collider</code>：轮子碰撞器，适用于车辆等物体</li>
<li><code>Terrain Collider</code>：地形碰撞器，适用于地形对象</li>
</ul>
<p>也有一些2D的碰撞器，组件名带<code>2D</code>后缀，如<code>Box Collider 2D</code>、<code>Circle Collider 2D</code>等</p>
<p>几个参数：</p>
<ul>
<li><code>Is Trigger</code>：是否为触发器，勾选后碰撞器不会产生物理碰撞，而是触发事件</li>
<li><code>Material</code>：物理材质，用于定义碰撞时的摩擦力和弹性</li>
<li><code>Center</code>：碰撞器的中心位置</li>
</ul>
<h3 id="物理材质"><a href="#物理材质" class="headerlink" title="物理材质"></a>物理材质</h3><p>物理材质用于定义物体在碰撞时的摩擦力和弹性</p>
<p>参数：</p>
<ul>
<li><code>Dynamic Friction</code>：动态摩擦力，物体在运动时的摩擦力，0表示无摩擦力</li>
<li><code>Static Friction</code>：静态摩擦力，物体静止时的摩擦力，0表示无摩擦力</li>
<li><code>Bounciness</code>：弹性，物体碰撞后反弹的力度，0表示无弹性</li>
<li><code>Friction Combine</code>：摩擦力合并方式<ul>
<li><code>Average</code>：平均值</li>
<li><code>Minimum</code>：最小值</li>
<li><code>Maximum</code>：最大值</li>
<li><code>Multiply</code>：相乘</li>
</ul>
</li>
<li><code>Bounce Combine</code>：弹性合并方式（同上）</li>
</ul>
<h3 id="碰撞检测函数"><a href="#碰撞检测函数" class="headerlink" title="碰撞检测函数"></a>碰撞检测函数</h3><ul>
<li><code>OnCollisionEnter(Collision collision)</code>：当物体开始碰撞时调用</li>
<li><code>OnCollisionExit(Collision collision)</code>：当物体结束碰撞时调用</li>
<li><code>OnCollisionStay(Collision collision)</code>：当物体持续碰撞时调用</li>
</ul>
<p>以上三个函数用于处理物理碰撞事件，参数<code>Collision</code>包含碰撞信息</p>
<p>一些常用的<code>Collision</code>属性：</p>
<ul>
<li><code>collision.gameObject</code>：获取碰撞的物体</li>
<li><code>collision.contacts</code>：获取碰撞点信息数组</li>
<li><code>collision.collider</code>：获取碰撞器组件</li>
<li><code>collision.transform</code>：获取碰撞物体的Transform组件</li>
<li><code>collision.contactCount</code>：获取碰撞点数量</li>
</ul>
<h3 id="触发器检测函数"><a href="#触发器检测函数" class="headerlink" title="触发器检测函数"></a>触发器检测函数</h3><ul>
<li><code>OnTriggerEnter(Collider other)</code>：当物体进入触发器时调用</li>
<li><code>OnTriggerExit(Collider other)</code>：当物体离开触发器时调用</li>
<li><code>OnTriggerStay(Collider other)</code>：当物体持续在触发器内时调用</li>
</ul>
<p>同理，参数<code>Collider</code>包含触发器信息，也可以获取各种物体的信息</p>
<h3 id="刚体添加力的方法"><a href="#刚体添加力的方法" class="headerlink" title="刚体添加力的方法"></a>刚体添加力的方法</h3><p>给刚体添加力，就可以让物体运动起来，获得一个初速度</p>
<p>首先要获取刚体组件</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rigidbody rb = GetComponent&lt;Rigidbody&gt;();</span><br></pre></td></tr></table></figure>

<p>然后再添加力</p>
<ul>
<li><code>rb.AddForce(Vector3 force)</code>：相对于世界坐标系，向刚体添加力</li>
<li><code>rb.AddRelativeForce(Vector3 force)</code>：相对于刚体自身坐标系，向刚体添加力</li>
</ul>
<p>添加扭矩</p>
<ul>
<li><code>rb.AddTorque(Vector3 torque)</code>：相对于世界坐标系，向刚体添加扭矩</li>
<li><code>rb.AddRelativeTorque(Vector3 torque)</code>：相对于刚体自身坐标系，向刚体添加扭矩</li>
</ul>
<p>直接改变速度</p>
<ul>
<li><code>rb.velocity</code>：获取或设置刚体的线性速度<br>速度的类型是<code>Vector3</code>，所以在使用上可以直接赋值<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rb.velocity = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>); <span class="comment">// 直接设置刚体的速度</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>模拟爆炸，即模拟爆炸冲击对其他物体的影响</p>
<ul>
<li><code>rb.AddExplosionForce(float explosionForce, Vector3 explosionPosition, float explosionRadius)</code>：向刚体添加爆炸力<ul>
<li><code>explosionForce</code>：爆炸力的强度</li>
<li><code>explosionPosition</code>：爆炸中心的位置</li>
<li><code>explosionRadius</code>：爆炸的半径</li>
</ul>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rb.AddExplosionForce(<span class="number">10f</span>, transform.position, <span class="number">5f</span>);</span><br></pre></td></tr></table></figure>

<h3 id="力的模式"><a href="#力的模式" class="headerlink" title="力的模式"></a>力的模式</h3><p><code>ForceMode</code>枚举定义了四种不同的力的应用方式：</p>
<ul>
<li><code>Acceleration</code>：加速度模式，直接改变刚体的加速度，与质量无关</li>
<li><code>Impulse</code>：冲击模式，瞬间改变刚体的速度，与质量有关</li>
<li><code>VelocityChange</code>：速度变化模式，直接改变刚体的速度，与质量无关</li>
<li><code>Force</code>：力模式，持续施加力，影响刚体的加速度，与质量有关</li>
</ul>
<h3 id="力场脚本"><a href="#力场脚本" class="headerlink" title="力场脚本"></a>力场脚本</h3><p><code>Unity</code>提供了一个内置的力场脚本<code>Constant Force</code>，可以直接添加到物体上，实现持续施加力的效果</p>
<p>添加这个脚本的同时，如果物体没有刚体组件，会自动添加一个刚体组件</p>
<p><code>Constant Force</code>脚本的参数：</p>
<ul>
<li><code>Force</code>：持续施加的力</li>
<li><code>Rotational Force</code>：持续施加的扭矩</li>
<li><code>Torque</code>：持续施加的力矩</li>
<li><code>Relative Torque</code>：相对于物体坐标系施加的力矩</li>
</ul>
<h3 id="刚体的休眠"><a href="#刚体的休眠" class="headerlink" title="刚体的休眠"></a>刚体的休眠</h3><p>刚体在长时间静止后会进入休眠状态，以节省计算资源</p>
<ul>
<li><code>rb.Sleep()</code>：手动将刚体置于休眠状态</li>
</ul>
<p>可以用代码来结束休眠状态</p>
<ul>
<li><code>rb.WakeUp()</code>：手动将刚体从休眠状态唤醒</li>
</ul>
<h2 id="音效系统"><a href="#音效系统" class="headerlink" title="音效系统"></a>音效系统</h2><h3 id="常用格式"><a href="#常用格式" class="headerlink" title="常用格式"></a>常用格式</h3><p>Unity支持多种音频格式，常用的有以下几种：</p>
<ul>
<li><code>WAV</code>：无损音频格式，音质高，但文件较大</li>
<li><code>MP3</code>：有损音频格式，文件较小，但音质较差</li>
<li><code>OGG</code>：有损音频格式，文件较小，音质较好，常用于游戏开发</li>
<li><code>AIFF</code>：无损音频格式，音质高，但文件较大，主要用于Mac系统</li>
</ul>
<h3 id="音频文件属性"><a href="#音频文件属性" class="headerlink" title="音频文件属性"></a>音频文件属性</h3><p>在<code>Inspector</code>面板中，可以设置音频文件的属性：</p>
<ul>
<li><code>Force To Mono</code>：强制转换为单声道</li>
<li><code>Normalize</code>：标准化音频</li>
<li><code>Load In Background</code>：在后台加载音频，不阻塞主线程</li>
<li><code>Ambisonic</code>：启用立体混响效果，适用于360度音频</li>
<li><code>Load Type</code>：加载类型<ul>
<li><code>Decompress On Load</code>：加载时解压缩，适用于短音频，加载快，内存占用较大</li>
<li><code>Compressed In Memory</code>：内存中压缩，适用于中等长度音频，加载慢，内存占用较小</li>
<li><code>Streaming</code>：流式加载，适用于长音频，如背景音乐，加载慢，内存占用最小，消耗CPU资源</li>
</ul>
</li>
<li><code>Preload Audio Data</code>：预加载音频数据，勾选后进入场景就会加载音频数据</li>
<li><code>Compression Format</code>：压缩格式<ul>
<li><code>PCM</code>：无损压缩，音质高，文件大</li>
<li><code>ADPCM</code>：有损压缩，音质一般，文件较小，包含噪音，一般用小音效</li>
<li><code>Vorbis</code>：有损压缩，音质好，文件小，常用格式</li>
</ul>
</li>
<li><code>Quality</code>：压缩质量，范围0-100，数值越大，音质越好，文件越大</li>
<li><code>Sample Rate Setting</code>：采样率设置<ul>
<li><code>Preserve Sample Rate</code>：保持原始采样率</li>
<li><code>Optimize Sample Rate</code>：优化采样率，根据音频内容调整采样率</li>
<li><code>Override Sample Rate</code>：自定义采样率，可以手动设置采样率数值</li>
</ul>
</li>
</ul>
<h3 id="Audio-Source组件"><a href="#Audio-Source组件" class="headerlink" title="Audio Source组件"></a>Audio Source组件</h3><p><code>Audio Source</code>组件用于播放音频文件，可以将其添加到场景中的任何物体上<br>常用参数：</p>
<ul>
<li><code>Audio Clip</code>：要播放的音频文件</li>
<li><code>Output</code>：音频输出通道</li>
<li><code>Mute</code>：静音开关</li>
<li><code>Bypass Effects</code>：开关滤波器效果</li>
<li><code>Bypass Listener Effects</code>：开关监听器效果</li>
<li><code>Bypass Reverb Zones</code>：开关混响区域效果</li>
<li><code>Play On Awake</code>：是否在物体激活时自动播放音频</li>
<li><code>Loop</code>：是否循环播放音频</li>
<li><code>Priority</code>：音频优先级，数值越小，优先级越高</li>
<li><code>Volume</code>：音量</li>
<li><code>Pitch</code>：音调</li>
<li><code>Stereo Pan</code>：立体声平移，范围-1（左声道）到1（右声道）</li>
<li><code>Spatial Blend</code>：空间混合，范围0（2D音频）到1（3D音频）</li>
<li><code>Reverb Zone Mix</code>：混响区域混合，范围0到1</li>
<li><code>3D Sound Settings</code>：3D音频设置<ul>
<li><code>Doppler Level</code>：多普勒效应强度</li>
<li><code>Spread</code>：声音扩散范围</li>
<li><code>Volume Rolloff</code>：音量衰减模式<ul>
<li><code>Logarithmic Rolloff</code>：对数衰减</li>
<li><code>Linear Rolloff</code>：线性衰减</li>
<li><code>Custom Rolloff</code>：自定义衰减曲线</li>
</ul>
</li>
<li><code>Min Distance</code>：最小距离，声音开始衰减的距离</li>
<li><code>Max Distance</code>：最大距离，声音完全衰减的距离</li>
</ul>
</li>
</ul>
<h3 id="Audio-Listener组件"><a href="#Audio-Listener组件" class="headerlink" title="Audio Listener组件"></a>Audio Listener组件</h3><p><code>Audio Listener</code>组件用于接收和播放场景中的音频，通常添加到主摄像机上</p>
<h3 id="音频控制代码"><a href="#音频控制代码" class="headerlink" title="音频控制代码"></a>音频控制代码</h3><p>代码控制音频播放，首先需要获取<code>Audio Source</code>组件</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AudioSource audioSource = GetComponent&lt;AudioSource&gt;();</span><br><span class="line"><span class="comment">// 播放音频</span></span><br><span class="line">audioSource.Play();</span><br><span class="line"><span class="comment">// 暂停音频</span></span><br><span class="line">audioSource.Pause();</span><br><span class="line"><span class="comment">// 停止音频</span></span><br><span class="line">audioSource.Stop();</span><br></pre></td></tr></table></figure>

<p>检测音频播放完毕，代码本身是没有提供相应的方法<br>一般是使用<code>isPlaying</code>来一直检测音频是否在播放</p>
<p>一个<code>GameObject</code>对象可以挂载多个<code>Audio Source</code>脚本，但要注意管理</p>
<p>可以通过实例化对象来动态加载<code>Audio Source</code>脚本</p>
<h3 id="麦克风相关"><a href="#麦克风相关" class="headerlink" title="麦克风相关"></a>麦克风相关</h3><ul>
<li><code>Microphone.devices</code>：获取所有可用的麦克风设备名称，返回值为字符串数组</li>
<li><code>Microphone.Start(string deviceName, bool loop, int lengthSec, int frequency)</code>：开始录音<ul>
<li><code>deviceName</code>：麦克风设备名称，传入<code>null</code>表示使用默认麦克风</li>
<li><code>loop</code>：是否循环录音</li>
<li><code>lengthSec</code>：录音长度，单位为秒</li>
<li><code>frequency</code>：采样频率，常用值有44100Hz、22050Hz等</li>
</ul>
</li>
<li><code>Microphone.End(string deviceName)</code>：停止录音<ul>
<li><code>deviceName</code>：麦克风设备名称，传入<code>null</code>表示停止默认麦克风</li>
</ul>
</li>
<li><code>Microphone.IsRecording(string deviceName)</code>：检测麦克风是否正在录音，返回布尔值<ul>
<li><code>deviceName</code>：麦克风设备名称，传入<code>null</code>表示检测默认麦克风</li>
</ul>
</li>
</ul>
<p>存储录音数据的<code>AudioClip</code>可以通过以下方式获取</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AudioClip recordedClip = Microphone.Start(<span class="literal">null</span>, <span class="literal">false</span>, <span class="number">10</span>, <span class="number">44100</span>);</span><br><span class="line">Microphone.End(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">float</span>[] samples = <span class="keyword">new</span> <span class="built_in">float</span>[recordedClip.samples * recordedClip.channels];</span><br><span class="line">recordedClip.GetData(samples, <span class="number">0</span>);</span><br><span class="line">print(<span class="string">&quot;Recorded &quot;</span> + samples.Length + <span class="string">&quot; samples&quot;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="数据持久化"><a href="#数据持久化" class="headerlink" title="数据持久化"></a>数据持久化</h1><h2 id="PlayerPrefs"><a href="#PlayerPrefs" class="headerlink" title="PlayerPrefs"></a>PlayerPrefs</h2><p><code>PlayerPrefs</code>类用于在本地存储和读取简单的数据，如整数、浮点数和字符串</p>
<h3 id="基本方法"><a href="#基本方法" class="headerlink" title="基本方法"></a>基本方法</h3><p><code>存储</code>：</p>
<ul>
<li><code>PlayerPrefs.SetInt(string key, int value)</code>：存储整数值</li>
<li><code>PlayerPrefs.SetFloat(string key, float value)</code>：存储浮点数值</li>
<li><code>PlayerPrefs.SetString(string key, string value)</code>：存储字符串值</li>
</ul>
<p>数据会在应用程序退出时自动保存，也可以手动调用<code>PlayerPrefs.Save()</code>方法来强制保存数据<br>崩溃时可能会丢失未保存的数据</p>
<p><code>读取</code>：</p>
<ul>
<li><code>PlayerPrefs.GetInt(string key, int defaultValue = 0)</code>：读取整数值，若不存在则返回默认值</li>
<li><code>PlayerPrefs.GetFloat(string key, float defaultValue = 0.0f)</code>：读取浮点数值，若不存在则返回默认值</li>
<li><code>PlayerPrefs.GetString(string key, string defaultValue = &quot;&quot;)</code>：读取字符串值，若不存在则返回默认值</li>
</ul>
<p>默认值都可以自己设置，如果不设置则为0或空字符串</p>
<p>判断键是否存在：</p>
<ul>
<li><code>PlayerPrefs.HasKey(string key)</code>：检查指定键是否存在，返回布尔值</li>
</ul>
<p>一般用于判断数据是否存在，避免读取不存在的数据时出错</p>
<p><code>删除</code>：</p>
<ul>
<li><code>PlayerPrefs.DeleteKey(string key)</code>：删除指定键的数据</li>
<li><code>PlayerPrefs.DeleteAll()</code>：删除所有存储的数据</li>
</ul>
<h3 id="存储位置"><a href="#存储位置" class="headerlink" title="存储位置"></a>存储位置</h3><p><code>PlayerPrefs</code>的数据存储位置因平台而异：</p>
<ul>
<li>Windows：注册表路径为<code>HKEY_CURRENT_USER\Software\[公司名称]\[产品名称]</code></li>
</ul>
<p>公司名称和产品名称是在<code>Project Setting</code>中设置的</p>
<p>由于数据是直接存储在注册表中，因此很容易被用户修改或删除，一般会加密处理</p>
<h3 id="一个自定义的数据管理器类"><a href="#一个自定义的数据管理器类" class="headerlink" title="一个自定义的数据管理器类"></a>一个自定义的数据管理器类</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是一个单例，所以不继承MonoBehaviour</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerPrefsDataManager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> PlayerPrefsDataManager instance = <span class="keyword">new</span> PlayerPrefsDataManager();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 外部访问实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> PlayerPrefsDataManager Instance</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> instance; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">PlayerPrefsDataManager</span>()</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 保存数据对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SaveData</span>(<span class="params"><span class="built_in">object</span> obj, <span class="built_in">string</span> keyName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Type dataType = obj.GetType();</span><br><span class="line">        FieldInfo[] fieldInfos = dataType.GetFields();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> saveKeyName = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; fieldInfos.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 创建自定义的存储key</span></span><br><span class="line">            saveKeyName = keyName + <span class="string">&quot;_&quot;</span> + dataType.Name + <span class="string">&quot;_&quot;</span> + fieldInfos[i].FieldType.Name + <span class="string">&quot;_&quot;</span> + fieldInfos[i].Name;</span><br><span class="line">            SaveValue(fieldInfos[i].GetValue(obj), saveKeyName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 递归保存值</span></span><br><span class="line">    <span class="comment">// 分情况保存基本类型、列表、字典、自定义类</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SaveValue</span>(<span class="params"><span class="built_in">object</span> <span class="keyword">value</span>, <span class="built_in">string</span> keyName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Type fieldType = <span class="keyword">value</span>.GetType();</span><br><span class="line">        <span class="comment">// 字符串</span></span><br><span class="line">        <span class="keyword">if</span> (fieldType == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetString(keyName, <span class="keyword">value</span>.ToString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 布尔值</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (fieldType == <span class="keyword">typeof</span>(<span class="built_in">bool</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetInt(keyName, (<span class="built_in">bool</span>)<span class="keyword">value</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 浮点数</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (fieldType == <span class="keyword">typeof</span>(<span class="built_in">float</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetFloat(keyName, (<span class="built_in">float</span>)<span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 整数</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (fieldType == <span class="keyword">typeof</span>(<span class="built_in">int</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetInt(keyName, (<span class="built_in">int</span>)<span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 列表</span></span><br><span class="line">        <span class="comment">// 考虑到List&lt;T&gt;是泛型类型，不能确定具体类型，所以用IsAssignableFrom来判断</span></span><br><span class="line">        <span class="comment">// IList是List&lt;T&gt;的基类</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span>(IList).IsAssignableFrom(fieldType))</span><br><span class="line">        &#123;</span><br><span class="line">            IList list = <span class="keyword">value</span> <span class="keyword">as</span> IList;</span><br><span class="line">            PlayerPrefs.SetInt(keyName, list.Count);</span><br><span class="line">            <span class="built_in">int</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="built_in">object</span> obj <span class="keyword">in</span> list)</span><br><span class="line">            &#123;</span><br><span class="line">                SaveValue(obj, keyName + <span class="string">&quot;_&quot;</span> + index);</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 字典</span></span><br><span class="line">        <span class="comment">// 字典同样的道理，IDictionary是Dictionary&lt;K,V&gt;的基类</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span>(IDictionary).IsAssignableFrom(fieldType))</span><br><span class="line">        &#123;</span><br><span class="line">            IDictionary dict = <span class="keyword">value</span> <span class="keyword">as</span> IDictionary;</span><br><span class="line">            PlayerPrefs.SetInt(keyName, dict.Count);</span><br><span class="line">            <span class="built_in">int</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="built_in">object</span> key <span class="keyword">in</span> dict.Keys)</span><br><span class="line">            &#123;</span><br><span class="line">                SaveValue(key, keyName + <span class="string">&quot;_key_&quot;</span> + index);</span><br><span class="line">                SaveValue(dict[key], keyName + <span class="string">&quot;_value_&quot;</span> + index);</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 自定义类</span></span><br><span class="line">        <span class="comment">// 再次进行递归保存</span></span><br><span class="line">        <span class="comment">// 因为其实大部分数据类型到最后都是基本类型、列表或字典</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            SaveData(<span class="keyword">value</span>, keyName);</span><br><span class="line">        &#125;</span><br><span class="line">        PlayerPrefs.Save();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 加载数据对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">object</span> <span class="title">LoadData</span>(<span class="params">Type type, <span class="built_in">string</span> keyName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">object</span> data = Activator.CreateInstance(type);</span><br><span class="line">        FieldInfo[] infos = type.GetFields();</span><br><span class="line">        <span class="built_in">string</span> loadKeyName = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        FieldInfo info;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; infos.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            info = infos[i];</span><br><span class="line">            <span class="comment">// 根据存储时的规则，创建对应的key</span></span><br><span class="line">            loadKeyName = keyName + <span class="string">&quot;_&quot;</span> + type.Name + <span class="string">&quot;_&quot;</span> + info.FieldType.Name + <span class="string">&quot;_&quot;</span> + info.Name;</span><br><span class="line">            info.SetValue(data, LoadValue(info.FieldType, loadKeyName));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 递归加载值</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">object</span> <span class="title">LoadValue</span>(<span class="params">Type type, <span class="built_in">string</span> keyName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(<span class="built_in">int</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> PlayerPrefs.GetInt(keyName, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(<span class="built_in">float</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> PlayerPrefs.GetFloat(keyName, <span class="number">0f</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> PlayerPrefs.GetString(keyName, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(<span class="built_in">bool</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> PlayerPrefs.GetInt(keyName, <span class="number">0</span>) == <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span>(IList).IsAssignableFrom(type))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> count = PlayerPrefs.GetInt(keyName, <span class="number">0</span>);</span><br><span class="line">            IList list = Activator.CreateInstance(type) <span class="keyword">as</span> IList;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                list.Add(LoadValue(type.GetGenericArguments()[<span class="number">0</span>], keyName + <span class="string">&quot;_&quot;</span> + i));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span>(IDictionary).IsAssignableFrom(type))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> count = PlayerPrefs.GetInt(keyName, <span class="number">0</span>);</span><br><span class="line">            IDictionary dict = Activator.CreateInstance(type) <span class="keyword">as</span> IDictionary;</span><br><span class="line">            Type[] genericArgs = type.GetGenericArguments();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">object</span> dictKey = LoadValue(genericArgs[<span class="number">0</span>], keyName + <span class="string">&quot;_key_&quot;</span> + i);</span><br><span class="line">                <span class="built_in">object</span> dictValue = LoadValue(genericArgs[<span class="number">1</span>], keyName + <span class="string">&quot;_value_&quot;</span> + i);</span><br><span class="line">                dict.Add(dictKey, dictValue);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> dict;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> LoadData(type, keyName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上是一个基本的数据保存和加载管理器类，可以根据需要进行扩展和修改</p>
<p>使用上</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义的数据类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ItemInfo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> num;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ItemInfo</span>(<span class="params"><span class="built_in">int</span> id, <span class="built_in">int</span> num</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ItemInfo</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义的玩家信息类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerInfo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> height;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="built_in">int</span>&gt; list = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ItemInfo itemInfo;</span><br><span class="line">    <span class="keyword">public</span> List&lt;ItemInfo&gt; infos = <span class="keyword">new</span> List&lt;ItemInfo&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">int</span>, ItemInfo&gt; dict = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, ItemInfo&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//PlayerPrefs.DeleteAll();  // 清除所有数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 尝试获取已保存的数据</span></span><br><span class="line">        PlayerInfo p = PlayerPrefsDataManager.Instance.LoadData(<span class="keyword">typeof</span>(PlayerInfo), <span class="string">&quot;playerInfo&quot;</span>) <span class="keyword">as</span> PlayerInfo;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果没有数据，则创建一个新的</span></span><br><span class="line">        p.age = <span class="number">18</span>;</span><br><span class="line">        p.name = <span class="string">&quot;北山&quot;</span>;</span><br><span class="line">        p.height = <span class="number">175.5f</span>;</span><br><span class="line">        p.sex = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        p.infos.Add(<span class="keyword">new</span> ItemInfo(<span class="number">1</span>, <span class="number">99</span>));</span><br><span class="line">        p.infos.Add(<span class="keyword">new</span> ItemInfo(<span class="number">2</span>, <span class="number">99</span>));</span><br><span class="line"></span><br><span class="line">        p.dict.Add(<span class="number">1</span>, <span class="keyword">new</span> ItemInfo(<span class="number">3</span>, <span class="number">99</span>));</span><br><span class="line">        p.dict.Add(<span class="number">2</span>, <span class="keyword">new</span> ItemInfo(<span class="number">4</span>, <span class="number">99</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 保存数据</span></span><br><span class="line">        PlayerPrefsDataManager.Instance.SaveData(p, <span class="string">&quot;playerInfo&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="UI系统"><a href="#UI系统" class="headerlink" title="UI系统"></a>UI系统</h1><p><code>UI</code>即用户界面（User Interface），用于与玩家进行交互，显示游戏信息等</p>
<h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h2><p><code>GUI</code>全称<code>Graphical User Interface</code>，即图形用户界面，<code>IMGUI</code>是<code>Immediate Mode GUI</code>的缩写，意为即时模式图形用户界面</p>
<p>在<code>Unity</code>中，GUI由代码直接驱动，实现较为复杂，所以一般也不会用它制作复杂的UI界面（如玩家的面板）</p>
<p>更多的时候，<code>GUI</code>用于调试信息的显示，而不是作为游戏<code>UI</code>的主要实现方式</p>
<p>使用上调用<code>OnGUI()</code>函数，在该函数中使用<code>GUI</code>类的方法绘制界面元素</p>
<ul>
<li>它是在每一帧渲染时调用的，所以界面会实时更新</li>
<li>一般只在其中执行GUI相关的绘制与操作逻辑</li>
<li>该函数在<code>OnDisable</code>之前，<code>LateUpdate</code>之后调用</li>
<li>只要当前脚本继承自<code>MonoBehaviour</code>，都可以使用<code>OnGUI()</code>函数</li>
</ul>
<h3 id="基本控件"><a href="#基本控件" class="headerlink" title="基本控件"></a>基本控件</h3><p><em>文本与按钮</em></p>
<ul>
<li>显示文本<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GUI.Label(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">20</span>), <span class="string">&quot;Hello, World!&quot;</span>);</span><br></pre></td></tr></table></figure>
<code>Rect</code>参数表示位置和大小，前两个参数是显示在屏幕上的位置（x,y），后两个参数是文本宽度和高度</li>
</ul>
<p>GUI坐标系的原点在屏幕左上角，x轴向右，y轴向下</p>
<ul>
<li><p>使用Texture显示图片</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Texture2D myTexture; <span class="comment">// 需要在脚本中定义并赋值</span></span><br><span class="line">GUI.Label(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">40</span>, <span class="number">100</span>, <span class="number">100</span>), myTexture);</span><br></pre></td></tr></table></figure>
</li>
<li><p>综合使用（文本+图片）</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GUIContent content = <span class="keyword">new</span> GUIContent(<span class="string">&quot;Click Me&quot;</span>, myTexture);</span><br><span class="line">GUI.Label(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">150</span>, <span class="number">100</span>, <span class="number">120</span>), content);</span><br></pre></td></tr></table></figure>
</li>
<li><p>自定义样式（字体颜色、背景等）<br>可直接声明一个<code>GUIStyle</code>对象，并在<code>Inspector</code>面板中设置</p>
</li>
<li><p>创建按钮</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GUI.Button(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">280</span>, <span class="number">100</span>, <span class="number">30</span>), <span class="string">&quot;Click Me&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>同样也可以直接使用<code>GUIContent</code>和<code>GUIStyle</code>来创建更复杂的按钮</p>
<p>检测按钮点击事件</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (GUI.Button(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">320</span>, <span class="number">100</span>, <span class="number">30</span>), <span class="string">&quot;Click Me&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    Debug.Log(<span class="string">&quot;Button Clicked!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>单选框与多选框</em></p>
<ul>
<li><p>创建多选框</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> toggleValue = <span class="literal">false</span>; <span class="comment">// 需要在脚本中定义</span></span><br><span class="line">toggleValue = GUI.Toggle(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">360</span>, <span class="number">100</span>, <span class="number">30</span>), toggleValue, <span class="string">&quot;Toggle Me&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>其中的布尔值是用来表示单选框的选中状态的，可以通过该值来判断用户是否选中了该选项</p>
</li>
<li><p>创建单选框<br>单选框在<code>Unity</code>中没有直接的实现，可以通过多个多选框来模拟单选框的效果</p>
</li>
</ul>
<p>要解决的问题在于，当选中一个选项时，其他选项需要取消选中</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (GUI.Toggle(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">30</span>), selectedOption == <span class="number">1</span>, <span class="string">&quot;Option 1&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    selectedOption = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (GUI.Toggle(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">440</span>, <span class="number">100</span>, <span class="number">30</span>), selectedOption == <span class="number">2</span>, <span class="string">&quot;Option 2&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    selectedOption = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (GUI.Toggle(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">480</span>, <span class="number">100</span>, <span class="number">30</span>), selectedOption == <span class="number">3</span>, <span class="string">&quot;Option 3&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    selectedOption = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>自定义样式<br>使用自己的图片资源时，可能会出现宽高比显示的问题，可以通过调整<code>GUIStyle</code>的<code>fixedWidth</code>和<code>fixedHeight</code>属性来解决</li>
</ul>
<p>而显示的文字与图片的位置关系，可以通过<code>padding</code>属性来设置</p>
<p><em>输入框与拖动条</em></p>
<ul>
<li><p>创建普通输入框</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> inputText = <span class="string">&quot;&quot;</span>; <span class="comment">// 需要在脚本中定义</span></span><br><span class="line">inputText = GUI.TextField(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">520</span>, <span class="number">200</span>, <span class="number">30</span>), inputText);</span><br></pre></td></tr></table></figure>
<p>由于GUI每一帧都会重新绘制，所以需要将输入的文本存储在一个变量中</p>
</li>
<li><p>创建密码输入框</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> passwordText = <span class="string">&quot;&quot;</span>; <span class="comment">// 需要在脚本中定义</span></span><br><span class="line">passwordText = GUI.PasswordField(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">560</span>, <span class="number">200</span>, <span class="number">30</span>), passwordText, <span class="string">&#x27;*&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>同样需要将输入的密码存储在一个变量中，第三个参数是用于掩码显示的字符（注意是字符型）</p>
</li>
<li><p>创建水平拖动条</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span> hSliderValue = <span class="number">0f</span>; <span class="comment">// 需要在脚本中定义</span></span><br><span class="line">hSliderValue = GUI.HorizontalSlider(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">600</span>, <span class="number">200</span>, <span class="number">30</span>), hSliderValue, <span class="number">0f</span>, <span class="number">100f</span>);</span><br></pre></td></tr></table></figure>
<p>水平拖动条的第三个和第四个参数分别表示拖动条的最小值和最大值</p>
</li>
<li><p>创建垂直拖动条</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span> vSliderValue = <span class="number">0f</span>; <span class="comment">// 需要在脚本中定义</span></span><br><span class="line">vSliderValue = GUI.VerticalSlider(<span class="keyword">new</span> Rect(<span class="number">220</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">200</span>), vSliderValue, <span class="number">0f</span>, <span class="number">100f</span>);</span><br></pre></td></tr></table></figure>
<p>垂直拖动条的第三个和第四个参数同样表示拖动条的最小值和最大值</p>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://beishanair.github.io/BessonNote">BeiShan_Besson</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://beishanair.github.io/BessonNote/2025/08/06/u3d/">https://beishanair.github.io/BessonNote/2025/08/06/u3d/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://beishanair.github.io/BessonNote" target="_blank">Memories Of The Sky</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/BessonNote/tags/U3D/">U3D</a></div><div class="post_share"><div class="social-share" data-image="/BessonNote/pic/bg/bg6.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/BessonNote/2025/03/18/gh/" title="Grasshopper 气象数据可视化"><img class="cover" src="/BessonNote/pic/bg/bg5.jpg" onerror="onerror=null;src='/BessonNote/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Grasshopper 气象数据可视化</div></div></a></div><div class="next-post pull-right"><a href="/BessonNote/2025/08/06/ue/" title="Unreal Engine 学习笔记"><img class="cover" src="/BessonNote/pic/bg/bg3.jpg" onerror="onerror=null;src='/BessonNote/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Unreal Engine 学习笔记</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/BessonNote/pic/BS.png" onerror="this.onerror=null;this.src='/BessonNote/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">BeiShan_Besson</div><div class="author-info__description">一起来学习吧！</div></div><div class="card-info-data site-data is-center"><a href="/BessonNote/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/BessonNote/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/BessonNote/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/BeiShanair"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/BeiShanair" target="_blank" title="Github"><i class="fab fa-github" style="color: #FFFFFF;"></i></a><a class="social-icon" href="mailto:besson_arch@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://space.bilibili.com/489671468" target="_blank" title="Bilibili"><i class="fab fa-bilibili" style="color: #FF679A;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客！如有问题请加交流频道：pd09376785</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%95%E6%93%8E%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">引擎安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%A8%E5%8F%A8%E5%8F%A8"><span class="toc-number">2.1.</span> <span class="toc-text">叨叨叨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.2.</span> <span class="toc-text">安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B"><span class="toc-number">3.</span> <span class="toc-text">开始</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.1.</span> <span class="toc-text">创建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.</span> <span class="toc-text">项目结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%95%8C%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">基本界面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80"><span class="toc-number">4.1.</span> <span class="toc-text">窗口布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hierarchy%EF%BC%88%E5%B1%82%E7%BA%A7%EF%BC%89"><span class="toc-number">4.2.</span> <span class="toc-text">Hierarchy（层级）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scene%EF%BC%88%E5%9C%BA%E6%99%AF%EF%BC%89"><span class="toc-number">4.3.</span> <span class="toc-text">Scene（场景）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Game%EF%BC%88%E6%B8%B8%E6%88%8F%EF%BC%89"><span class="toc-number">4.4.</span> <span class="toc-text">Game（游戏）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project%EF%BC%88%E9%A1%B9%E7%9B%AE%EF%BC%89"><span class="toc-number">4.5.</span> <span class="toc-text">Project（项目）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Inspector%EF%BC%88%E6%A3%80%E6%9F%A5%E5%99%A8%EF%BC%89"><span class="toc-number">4.6.</span> <span class="toc-text">Inspector（检查器）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Console%EF%BC%88%E6%8E%A7%E5%88%B6%E5%8F%B0%EF%BC%89"><span class="toc-number">4.7.</span> <span class="toc-text">Console（控制台）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Toolbar%EF%BC%88%E5%B7%A5%E5%85%B7%E6%A0%8F%EF%BC%89"><span class="toc-number">4.8.</span> <span class="toc-text">Toolbar（工具栏）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E7%BA%A7"><span class="toc-number">4.9.</span> <span class="toc-text">父子级</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">Unity工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6"><span class="toc-number">5.1.</span> <span class="toc-text">反射机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E5%9C%BA%E6%99%AF"><span class="toc-number">5.2.</span> <span class="toc-text">游戏场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%84%E8%AE%BE%E4%BD%93"><span class="toc-number">5.3.</span> <span class="toc-text">预设体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E5%8C%85%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA"><span class="toc-number">5.4.</span> <span class="toc-text">资源包导入导出</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E8%84%9A%E6%9C%AC"><span class="toc-number">6.</span> <span class="toc-text">Unity 脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%A7%84%E5%88%99"><span class="toc-number">6.1.</span> <span class="toc-text">基本规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MonoBehaviour"><span class="toc-number">6.2.</span> <span class="toc-text">MonoBehaviour</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">6.3.</span> <span class="toc-text">生命周期函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF"><span class="toc-number">6.4.</span> <span class="toc-text">打印信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Inspector%E7%AA%97%E5%8F%A3%E4%B8%AD%E5%8F%AF%E7%BC%96%E8%BE%91%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">6.5.</span> <span class="toc-text">Inspector窗口中可编辑的变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MonoBehaviour%E4%B8%AD%E9%87%8D%E8%A6%81%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">6.6.</span> <span class="toc-text">MonoBehaviour中重要的内容</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity%E9%87%8D%E8%A6%81%E7%BB%84%E4%BB%B6%E5%92%8CAPI"><span class="toc-number">7.</span> <span class="toc-text">Unity重要组件和API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#GameObject"><span class="toc-number">7.1.</span> <span class="toc-text">GameObject</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F"><span class="toc-number">7.1.1.</span> <span class="toc-text">成员变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">7.1.2.</span> <span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95"><span class="toc-number">7.1.3.</span> <span class="toc-text">成员方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Time%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9"><span class="toc-number">7.2.</span> <span class="toc-text">Time相关内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%BC%A9%E6%94%BE%E6%AF%94%E4%BE%8B"><span class="toc-number">7.2.1.</span> <span class="toc-text">时间缩放比例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A7%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4"><span class="toc-number">7.2.2.</span> <span class="toc-text">帧间隔时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="toc-number">7.2.3.</span> <span class="toc-text">游戏运行时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B8%A7%E6%97%B6%E9%97%B4"><span class="toc-number">7.2.4.</span> <span class="toc-text">物理帧时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A7%E7%8E%87%E7%9B%B8%E5%85%B3"><span class="toc-number">7.2.5.</span> <span class="toc-text">帧率相关</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Transform%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9"><span class="toc-number">7.3.</span> <span class="toc-text">Transform相关内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector3"><span class="toc-number">7.3.1.</span> <span class="toc-text">Vector3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE"><span class="toc-number">7.3.2.</span> <span class="toc-text">位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%A7%BB"><span class="toc-number">7.3.3.</span> <span class="toc-text">位移</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%92%E5%BA%A6%E4%B8%8E%E6%97%8B%E8%BD%AC"><span class="toc-number">7.3.4.</span> <span class="toc-text">角度与旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%A9%E6%94%BE%E4%B8%8E%E7%9C%8B%E5%90%91"><span class="toc-number">7.3.5.</span> <span class="toc-text">缩放与看向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB"><span class="toc-number">7.3.6.</span> <span class="toc-text">父子关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2"><span class="toc-number">7.3.7.</span> <span class="toc-text">坐标转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5Input"><span class="toc-number">7.4.</span> <span class="toc-text">输入Input</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E6%89%80%E5%9C%A8%E4%BD%8D%E7%BD%AE"><span class="toc-number">7.4.1.</span> <span class="toc-text">鼠标所在位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E6%8C%89%E9%94%AE%E7%8A%B6%E6%80%81"><span class="toc-number">7.4.2.</span> <span class="toc-text">鼠标按键状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E6%8C%89%E9%94%AE%E7%8A%B6%E6%80%81"><span class="toc-number">7.4.3.</span> <span class="toc-text">键盘按键状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BD%B4"><span class="toc-number">7.4.4.</span> <span class="toc-text">输入轴</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">7.4.5.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Screen%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9"><span class="toc-number">7.5.</span> <span class="toc-text">Screen相关内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%8F%E5%B9%95%E5%88%86%E8%BE%A8%E7%8E%87"><span class="toc-number">7.5.1.</span> <span class="toc-text">屏幕分辨率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%8F%E4%B8%8E%E7%AA%97%E5%8F%A3%E6%A8%A1%E5%BC%8F"><span class="toc-number">7.5.2.</span> <span class="toc-text">全屏与窗口模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E5%B1%8F%E5%B9%95%E6%96%B9%E5%90%91"><span class="toc-number">7.5.3.</span> <span class="toc-text">移动设备屏幕方向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%88%86%E8%BE%A8%E7%8E%87"><span class="toc-number">7.5.4.</span> <span class="toc-text">设置分辨率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Camera%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9"><span class="toc-number">7.6.</span> <span class="toc-text">Camera相关内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clear-Flags"><span class="toc-number">7.6.1.</span> <span class="toc-text">Clear Flags</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Culling-Mask"><span class="toc-number">7.6.2.</span> <span class="toc-text">Culling Mask</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Projection"><span class="toc-number">7.6.3.</span> <span class="toc-text">Projection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Clipping-Planes"><span class="toc-number">7.6.4.</span> <span class="toc-text">Clipping Planes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Depth"><span class="toc-number">7.6.5.</span> <span class="toc-text">Depth</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Target-Texture"><span class="toc-number">7.6.6.</span> <span class="toc-text">Target Texture</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Occlusion-Culling"><span class="toc-number">7.6.7.</span> <span class="toc-text">Occlusion Culling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Viewport-Rect"><span class="toc-number">7.6.8.</span> <span class="toc-text">Viewport Rect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Rendering-Path"><span class="toc-number">7.6.9.</span> <span class="toc-text">Rendering Path</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Allow-HDR"><span class="toc-number">7.6.10.</span> <span class="toc-text">Allow HDR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Allow-MSAA"><span class="toc-number">7.6.11.</span> <span class="toc-text">Allow MSAA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Allow-Dynamic-Resolution"><span class="toc-number">7.6.12.</span> <span class="toc-text">Allow Dynamic Resolution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Target-Display"><span class="toc-number">7.6.13.</span> <span class="toc-text">Target Display</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3"><span class="toc-number">7.6.14.</span> <span class="toc-text">代码相关</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.</span> <span class="toc-text">核心系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%89%E6%BA%90%E7%BB%84%E4%BB%B6"><span class="toc-number">8.1.</span> <span class="toc-text">光源组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.2.</span> <span class="toc-text">物理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9A%E4%BD%93"><span class="toc-number">8.2.1.</span> <span class="toc-text">刚体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">8.2.2.</span> <span class="toc-text">碰撞器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E6%9D%90%E8%B4%A8"><span class="toc-number">8.2.3.</span> <span class="toc-text">物理材质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.4.</span> <span class="toc-text">碰撞检测函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E6%A3%80%E6%B5%8B%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.5.</span> <span class="toc-text">触发器检测函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9A%E4%BD%93%E6%B7%BB%E5%8A%A0%E5%8A%9B%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">8.2.6.</span> <span class="toc-text">刚体添加力的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9B%E7%9A%84%E6%A8%A1%E5%BC%8F"><span class="toc-number">8.2.7.</span> <span class="toc-text">力的模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9B%E5%9C%BA%E8%84%9A%E6%9C%AC"><span class="toc-number">8.2.8.</span> <span class="toc-text">力场脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9A%E4%BD%93%E7%9A%84%E4%BC%91%E7%9C%A0"><span class="toc-number">8.2.9.</span> <span class="toc-text">刚体的休眠</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E6%95%88%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.3.</span> <span class="toc-text">音效系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%A0%BC%E5%BC%8F"><span class="toc-number">8.3.1.</span> <span class="toc-text">常用格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">8.3.2.</span> <span class="toc-text">音频文件属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Audio-Source%E7%BB%84%E4%BB%B6"><span class="toc-number">8.3.3.</span> <span class="toc-text">Audio Source组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Audio-Listener%E7%BB%84%E4%BB%B6"><span class="toc-number">8.3.4.</span> <span class="toc-text">Audio Listener组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E6%8E%A7%E5%88%B6%E4%BB%A3%E7%A0%81"><span class="toc-number">8.3.5.</span> <span class="toc-text">音频控制代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BA%A6%E5%85%8B%E9%A3%8E%E7%9B%B8%E5%85%B3"><span class="toc-number">8.3.6.</span> <span class="toc-text">麦克风相关</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-number">9.</span> <span class="toc-text">数据持久化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PlayerPrefs"><span class="toc-number">9.1.</span> <span class="toc-text">PlayerPrefs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95"><span class="toc-number">9.1.1.</span> <span class="toc-text">基本方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE"><span class="toc-number">9.1.2.</span> <span class="toc-text">存储位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%99%A8%E7%B1%BB"><span class="toc-number">9.1.3.</span> <span class="toc-text">一个自定义的数据管理器类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#UI%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.</span> <span class="toc-text">UI系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#GUI"><span class="toc-number">10.1.</span> <span class="toc-text">GUI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%8E%A7%E4%BB%B6"><span class="toc-number">10.1.1.</span> <span class="toc-text">基本控件</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/10/01/endfield/" title="终末地工业模组介绍"><img src="/BessonNote/pic/bg/bg8.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="终末地工业模组介绍"/></a><div class="content"><a class="title" href="/BessonNote/2025/10/01/endfield/" title="终末地工业模组介绍">终末地工业模组介绍</a><time datetime="2025-09-30T16:00:00.000Z" title="发表于 2025-10-01 00:00:00">2025-10-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/09/15/cg/" title="图形学入门"><img src="/BessonNote/pic/bg/bg9.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="图形学入门"/></a><div class="content"><a class="title" href="/BessonNote/2025/09/15/cg/" title="图形学入门">图形学入门</a><time datetime="2025-09-14T16:00:00.000Z" title="发表于 2025-09-15 00:00:00">2025-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/08/31/arch/" title="使用UE、Blender、SP制作建筑资产"><img src="/BessonNote/pic/bg/bg7.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="使用UE、Blender、SP制作建筑资产"/></a><div class="content"><a class="title" href="/BessonNote/2025/08/31/arch/" title="使用UE、Blender、SP制作建筑资产">使用UE、Blender、SP制作建筑资产</a><time datetime="2025-08-30T16:00:00.000Z" title="发表于 2025-08-31 00:00:00">2025-08-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/08/06/ue/" title="Unreal Engine 学习笔记"><img src="/BessonNote/pic/bg/bg3.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="Unreal Engine 学习笔记"/></a><div class="content"><a class="title" href="/BessonNote/2025/08/06/ue/" title="Unreal Engine 学习笔记">Unreal Engine 学习笔记</a><time datetime="2025-08-05T17:00:00.000Z" title="发表于 2025-08-06 01:00:00">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/08/06/u3d/" title="Unity3D 学习笔记"><img src="/BessonNote/pic/bg/bg6.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="Unity3D 学习笔记"/></a><div class="content"><a class="title" href="/BessonNote/2025/08/06/u3d/" title="Unity3D 学习笔记">Unity3D 学习笔记</a><time datetime="2025-08-05T16:00:00.000Z" title="发表于 2025-08-06 00:00:00">2025-08-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By BeiShan_Besson</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/BessonNote/js/utils.js?v=4.13.0"></script><script src="/BessonNote/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>