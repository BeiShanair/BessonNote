<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Grasshopper 气象数据可视化 | Memories Of The Sky</title><meta name="author" content="BeiShan_Besson"><meta name="copyright" content="BeiShan_Besson"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="利用Rhino的Grasshopper进行气象数据可视化，包括太阳轨迹、风玫瑰、日照时数etc.">
<meta property="og:type" content="article">
<meta property="og:title" content="Grasshopper 气象数据可视化">
<meta property="og:url" content="https://beishanair.github.io/BessonNote/2025/03/18/gh/index.html">
<meta property="og:site_name" content="Memories Of The Sky">
<meta property="og:description" content="利用Rhino的Grasshopper进行气象数据可视化，包括太阳轨迹、风玫瑰、日照时数etc.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://beishanair.github.io/BessonNote/pic/bg/bg5.jpg">
<meta property="article:published_time" content="2025-03-18T07:00:00.000Z">
<meta property="article:modified_time" content="2025-04-21T00:32:30.073Z">
<meta property="article:author" content="BeiShan_Besson">
<meta property="article:tag" content="Rhino GH">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://beishanair.github.io/BessonNote/pic/bg/bg5.jpg"><link rel="shortcut icon" href="/BessonNote/pic/BS.png"><link rel="canonical" href="https://beishanair.github.io/BessonNote/2025/03/18/gh/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/BessonNote/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/BessonNote/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Grasshopper 气象数据可视化',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-04-21 08:32:30'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/BessonNote/pic/BS.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/BessonNote/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/BessonNote/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/BessonNote/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/BessonNote/"><i class="fa-fw fas fa-home"></i><span> Menu</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/BessonNote/pic/bg/bg1.jpg')"><nav id="nav"><span id="blog-info"><a href="/BessonNote/" title="Memories Of The Sky"><span class="site-name">Memories Of The Sky</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/BessonNote/"><i class="fa-fw fas fa-home"></i><span> Menu</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/BessonNote/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Grasshopper 气象数据可视化</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-03-18T07:00:00.000Z" title="发表于 2025-03-18 15:00:00">2025-03-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-04-21T00:32:30.073Z" title="更新于 2025-04-21 08:32:30">2025-04-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/BessonNote/categories/note/">note</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>21分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Grasshopper 气象数据可视化"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前述"><a href="#前述" class="headerlink" title="前述"></a>前述</h1><p>由于某只北山在之前参加了深圳绿色建筑设计竞赛（<code>深绿设</code>），当时气象数据的分析任务交给了我，于是乎就去学习了利用<code>Rhino</code>的<code>Grasshopper</code>进行气象数据的可视化</p>
<p>然后呢，和模组开发教程及本分站的东西一样，为持续对世界输出，同时为了提高我自己的水平，咱们还是来分享分享</p>
<p>至于分析的部分，当然也是要的，但<code>GH</code>能干的只是输出图及图表，后面的分析内容是你得根据<code>地理学</code>的知识去分析的，不是光有个图就完了</p>
<p>而分析的部分，并不是本篇的重点，可视化才是</p>
<p>不过，我们先简单了解一下<code>Grasshopper</code></p>
<h2 id="DeepSeek的话"><a href="#DeepSeek的话" class="headerlink" title="DeepSeek的话"></a>DeepSeek的话</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Grasshopper 是 Rhino（Rhinoceros）中的一种可视化编程工具</span><br><span class="line">专门用于参数化设计和生成几何体</span><br><span class="line">它不需要传统的代码编写</span><br><span class="line">而是通过拖拽组件（类似于节点）并连接它们来构建逻辑</span><br><span class="line">Grasshopper 广泛应用于建筑、工业设计、景观设计等领域</span><br><span class="line">帮助设计师快速实现复杂的设计方案。</span><br></pre></td></tr></table></figure>
<h2 id="北山の话"><a href="#北山の话" class="headerlink" title="北山の话"></a>北山の话</h2><p>好，那现在我来喵几句</p>
<p>为什么我也要来喵两句呢？DS在上面提到了一个东西——<code>可视化编程</code>。然后北山现在，也将永远在技术向的道路上狂奔，扯上编程的东西，那自然得来说一说</p>
<p>咋了？可视化编程该不会吓到你了吧。对于一个没有如何编程经验的小白来说，确实可能有点吓人。但是，可视化编程并不是像传统我们手敲代码那样，需要理解编程语言和逻辑——相反，它是一种通过<code>图形界面</code>来构建程序的方法</p>
<p>它通过一个个封装好的模块，用一条条线连接起来，实现一些功能。这种编程方式更加直观，易于理解和实现</p>
<p>这就有点像传统编程中的<code>API</code>（应用程序接口），开发者无需了解API背后的实现细节，只需要知道如何调用它，就可以实现一些复杂的功能</p>
<p>可视化编程的学习成本可比传统编程低得多了，但对于<code>GH</code>来说，还得学很多很多东西，但至少你不用从一个字一个字地敲开始的传统编程了</p>
<p>这里呢，咱们再深入一点。感兴趣的话，其实你可以<code>双击</code>那些电池，而后他们会弹出来一个窗口，熟悉编程语言的应该会知道，那玩意是<code>Python</code></p>
<p>其实吧，<code>GH</code>和<code>Rhino</code>都是支持<code>Python</code>的，也就是说你完全可以利用<code>Python</code>来进行参数设计，也可以自己设计电池（当然，这自然是对你的编程能力是有要求的）</p>
<p><code>Rhino</code>的话，在其<code>工具</code>-&gt;<code>脚本</code>-&gt;<code>编辑</code>，就可以打开Rhino的<code>脚本编辑器</code>，而在这里就可以拿Python来写一些代码，执行一些语句（在此之前，建议先看看Rhino的开发相关的内容，不然是真的写啥都不知道）<br><img src="/BessonNote/pic/gh/gh1.png" alt="gh1"></p>
<p>可视化编程在很多很多软件中都有，<code>Blender</code>的<code>着色器</code>（<code>Shader</code>），它也是一块块的模块（节点），通过一条条线连接起来的，去实现一些渲染相关的东西</p>
<p><code>Unreal Engine</code>的<code>Blueprint</code>（<code>蓝图</code>），也是这样的</p>
<p>不过，可视化编程自然是有它的局限性的，因为现有模块可能无法满足你的需求，这个时候，你就得通过编程语言自己去编程了</p>
<p>上面说过了，Rhino支持Python，Blender同样支持Python（嗯，Blender是有Python控制台的）<br><img src="/BessonNote/pic/gh/gh2.png" alt="gh2"></p>
<p>所以，知道为什么要学<code>Python</code>了吧？</p>
<p>我在我自己的<code>《随·言》</code>系列中也讲过，其实最好是能够每个人都能学习一门编程语言。毕竟在<code>AI时代</code>，绝大多数的AI都是Python写的，而Python又是最容易上手的编程语言之一</p>
<p>另外，其实作为建筑学专业的，亦或者是建筑行业相关专业的，你大可以向这些方向发展，用Python、用Rhino参数化设计、设计AI来辅助设计、规划、管理等等。<code>当然，技术向的道路并不好走，但总有人能走，也总会有人走</code></p>
<p>虽然说北山在未来并不会选择建筑行业，而是奔赴<code>技术美术</code>（<code>TA</code>）。不知道我有没有这个话语权，上面那一段，也是算是给同辈或者后辈的建议吧</p>
<p>对于北山而言，要学的东西非常非常得多（毕竟现在是干到第四个编程语言了，而且技术美术完全是一个未知领域），建筑学的东西，自然还是有用的。和以前一样，我依旧需要建筑学的强综合性，能够涉及的面越广越好</p>
<p>至于北山为何最终选择了技术美术作为未来主要的发展方向，参见<a target="_blank" rel="noopener" href="https://www.bilibili.com/opus/1035936860446130185">《随·言 #6》</a>，这里就不多说了</p>
<p>别的话，感兴趣的还是可以去看北山的<code>《随·言》</code>系列，讲专业，讲学习，讲技术，讲生活……各方各面，当然，<code>仅代表个人观点</code></p>
<p>那么，最后再喵几句，<code>不论你未来想做什么，不管和专业是否相关，趁你还没有毕业，赶紧去。不要觉得你不会做、你不喜欢做，只有你真正着手去做了，自己亲身体验了，才知道自己到底喜不喜欢做，其他的都是空话</code></p>
<p>曾经的北山，是完完全全的电脑小白（CPU、GPU是什么我不知道）；到后来自诩为技术宅，开始制作教程；再到现在，有了自己的模组开发及学习理论（见长线教程计划的前言）。而这几年，正好是5年，我完全有理由相信，你同样能做到</p>
<h1 id="Ladybug-Tool安装"><a href="#Ladybug-Tool安装" class="headerlink" title="Ladybug Tool安装"></a>Ladybug Tool安装</h1><p>那么私活夹带完了，不过确实是北山想说的话</p>
<p><code>气象数据可视化</code>用到的是<code>GH</code>的<code>Ladybug Tool</code>插件，嗯，对于<code>Rhino</code>来说，是插件上的插件（禁止套娃）</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>接下来我们来安装<code>Ladybug Tool</code>这个插件，这个东西可以在<a target="_blank" rel="noopener" href="https://www.food4rhino.com/en">Food4Rhino</a>这个网站上找到</p>
<p>搜索<code>Ladybug</code>，应该第一个就是，是一个<code>瓢虫</code>的图标（因为ladybug本身的意思就是瓢虫）<br><img src="/BessonNote/pic/gh/gh3.png" alt="gh3"></p>
<p>点击进入，往下翻，就能翻到下载相关内容，按照表格提示的<code>platform</code>和你自己所安装的<code>Rhino</code>进行下载（当然，要登录一下这个网站，可能得用7根木棍）<br><img src="/BessonNote/pic/gh/gh4.png" alt="gh4"></p>
<p>下载之后，我们就得到了一个压缩包，将其解压到你能找到的地方，因为待会得用<code>GH</code>安装，你得知道文件路径</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>接下来我们打开Rhino，从上方菜单栏的<code>工具</code>打开<code>Grasshopper</code>，等它加载好就会弹出一个界面</p>
<p>然后我们点击<code>File</code>-&gt;<code>Open Document</code>，打开我们刚才解压出来的<code>installer.gh</code>文件，将其加载到GH中<br><img src="/BessonNote/pic/gh/gh5.png" alt="gh5"></p>
<p>随后我们会看到两个大大的<code>1</code>和<code>2</code>，首先双击<code>1</code>中的<code>False</code>，让它变成True，<code>开始安装相关的Python依赖</code>（注：因为网络的关系，可能得关闭防火墙，尤其是校园网）<br><img src="/BessonNote/pic/gh/gh6.png" alt="gh6"></p>
<p>在出现以下内容后，表示<code>安装成功</code>（出问题一般就是网络问题）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Next you should:</span><br><span class="line">1. Run the installer component below.</span><br><span class="line"> </span><br><span class="line">Optional installation steps include:</span><br><span class="line">1. Install OpenStudio.</span><br><span class="line">2. Install Radiance. </span><br></pre></td></tr></table></figure>
<p>随后同样的，双击<code>2</code>中的<code>False</code>，让它变成True，开始安装真正的<code>Ladybug Tool</code>插件（第一步没完成第二步也没法做，网络问题同上）</p>
<p>出现一个弹窗提示代表安装成功，重启<code>Rhino</code>和<code>Grasshopper</code>就可以多了很多东西，一共安装了<code>5</code>个插件，分别是<code>Ladybug</code>、<code>HB-Energy</code>、<code>Honeybee</code>、<code>Dragonfly</code>和<code>HB-Radiance</code><br><img src="/BessonNote/pic/gh/gh7.png" alt="gh7"></p>
<p>那么5个插件都有且都能打开它的界面，使用它的电池，就说明<code>LB</code>安装成功了</p>
<h1 id="Very-Important-Tip"><a href="#Very-Important-Tip" class="headerlink" title="Very Important Tip"></a>Very Important Tip</h1><p><code>所有电池都可以右键选择help，它会有各个输入端、输出端的解释说明</code></p>
<h1 id="气象数据"><a href="#气象数据" class="headerlink" title="气象数据"></a>气象数据</h1><p>那么我们继续，要进行气象数据的可视化，首先得有<code>数据</code></p>
<h2 id="下载气象数据"><a href="#下载气象数据" class="headerlink" title="下载气象数据"></a>下载气象数据</h2><p>这里我们先打开上方菜单栏中的<code>Ladybug</code>，我们可以看到它分了好几个模块（部分），这里我们先把开头一列的那两个电池（<code>LB Download Weather</code>、<code>LB EPWmap</code>）拿出来<br><img src="/BessonNote/pic/gh/gh8.png" alt="gh8"></p>
<p><img src="/BessonNote/pic/gh/gh9.png" alt="gh9"></p>
<p>顾名思义，<code>LB Download Weather</code>就是下载气象数据，另外一个则是搜寻气象数据的（气象数据的文件格式是<code>epw</code>）</p>
<p>这里我们双击当前屏幕，输入<code>Boolean Toggle</code>，拿一个布尔值开关的电池过来，将其连接到<code>LB EPWmap</code>的输入端<br><img src="/BessonNote/pic/gh/gh10.png" alt="gh10"></p>
<p>和前面安装LB时一样，双击<code>False</code>，将其变成True。在你的默认浏览器中会弹出一个地图<br><img src="/BessonNote/pic/gh/gh11.png" alt="gh11"></p>
<p>地图上的那些点，就是不同气象站测得当地的气象数据。鼠标滚轮放大地图，我们以杭州为例，找到杭州地区（在西湖边上有3个点），选择一个点击一下<br><img src="/BessonNote/pic/gh/gh12.png" alt="gh12"></p>
<p>在弹出的小窗中，有<code>copy</code>和<code>download</code></p>
<p>我们这里先来讲<code>copy</code>，点击copy，再到<code>GH</code>中添加一个<code>Panel</code>电池，双击进入编辑，将我们复制的<code>链接</code>粘贴进去，并将其与<code>LB Download Weather</code>的<code>_weather_url</code>连接起来<br><img src="/BessonNote/pic/gh/gh13.png" alt="gh13"></p>
<p>我们可以再加一个电池<code>LB Import EPW</code>，将<code>LB Download Weather</code>输出端的<code>epw_file</code>与它连接起来，没有报错则说明这个数据文件是可以用的<br><img src="/BessonNote/pic/gh/gh14.png" alt="gh14"></p>
<h2 id="保存气象数据"><a href="#保存气象数据" class="headerlink" title="保存气象数据"></a>保存气象数据</h2><p>当然，肯定有人会觉得每次都这么干有点麻烦</p>
<p>所以我们可以通过<code>LB Download Weather</code>电池来保存我们的气象数据</p>
<p>首先你得在一个你能找到的地方建个文件夹，然后我们将这个文件夹的路径复制一下，和前面添加气象数据的链接一样，添加<code>Panel</code>并将其与<code>_folder_</code>连接起来<br><img src="/BessonNote/pic/gh/gh15.png" alt="gh15"><br><img src="/BessonNote/pic/gh/gh16.png" alt="gh16"></p>
<p>随后我们回到刚才新建的文件夹中，就可以发现多了一些文件<br><img src="/BessonNote/pic/gh/gh17.png" alt="gh17"></p>
<p>不过，通过刚才的那个气象数据的地图的<code>download</code>，同样可以下载气象数据到本地，是个压缩包，同样解压到你能找到的地方</p>
<p>那么下载到本地之后怎么用呢，我们要再用到一个<code>File Path</code>电池，右键选择<code>Select one existing file</code>，在弹出的窗口中选择你保存到本地的<code>epw文件</code>（注意后缀名）<br><img src="/BessonNote/pic/gh/gh18.png" alt="gh18"></p>
<p>同样将其与<code>LB Import EPW</code>的<code>_epw_file</code>连接起来，没有报错则说明这个数据文件是可以用的<br><img src="/BessonNote/pic/gh/gh19.png" alt="gh19"></p>
<h1 id="太阳轨迹"><a href="#太阳轨迹" class="headerlink" title="太阳轨迹"></a>太阳轨迹</h1><p>那么气象数据解决了，接下来就可以开始可视化了</p>
<p>导入epw的过程就不讲了，和前面一样的</p>
<h2 id="基础部分"><a href="#基础部分" class="headerlink" title="基础部分"></a>基础部分</h2><p>随后我们就要用到一个<code>LB Sunpath</code>电池，它在<code>LB</code>的第三个模块中</p>
<p>我们先来看一下我们可能会用到的输入端</p>
<p><code>north_</code>这个是输出图形的正北方向与你实际要分析的区块（模型）的正北方向的夹角，缺省则默认为轴正方向为正北方向</p>
<p><code>_location</code>这个是分析的地理位置信息，直接才前面的电池中导入</p>
<p><code>hoys_</code>分析的时间段，在后面的日照时数的可视化也会用到</p>
<p><code>_center_pt_</code>这个是可视化图表的中心点，你可以用<code>Point</code>电池重新指定一个点</p>
<p><code>_scale_</code>这个是可视化图表的大小，太阳轨迹默认显示的是<code>100m</code>为半径的，根据实际需要进行缩放</p>
<p>daily_显示某一天或者某一时间段的太阳轨迹，配合<code>hoys_</code>使用</p>
<p>那么接下来，我们将<code>LB Import EPW</code>的<code>location</code>与<code>LB Sunpath</code>的<code>_location</code>连接起来，双击屏幕输入一个<code>0.01</code>，自动创建一个<code>Number Slider</code>，将其与<code>_scale_</code>连接起来<br><img src="/BessonNote/pic/gh/gh20.png" alt="gh20"></p>
<p>而后我们就可以在<code>Rhino</code>界面中看到太阳轨迹图了，你可以通过另存为去导出各个部分的图纸（至于烘焙的话其实可以不干，因为要烘焙的东西有点多）<br><img src="/BessonNote/pic/gh/gh21.png" alt="gh21"></p>
<p>至于分析的话，就不是我们这篇教程干的事情了，这是<code>地理学</code>上的东西，得靠你自己来分析了</p>
<h2 id="进阶部分"><a href="#进阶部分" class="headerlink" title="进阶部分"></a>进阶部分</h2><p>好，我们来进阶一下</p>
<p>在实际分析中，我们可能会选择一些特殊的日期来进行分析，比如<code>二分二至日</code>（春分、夏至、秋分、冬至）</p>
<p>这里我选取<code>夏至日</code>（<code>6月21日</code>）来进行分析</p>
<p>这里我们引入<code>LB Analysis Period</code>电池，它的输入端我应该不用解释了吧？直接看名字直译就好了</p>
<p>最后一个<code>_timestep_</code>可以理解为迭代步数，设置为1的话就从设置的开始时间（小时）到结束时间（小时），再加1</p>
<p>如设置<code>6-18</code>，则会输出<code>13</code>个点位；设置为<code>2</code>的话，则有<code>25</code>个点位，以此类推（当然一般<code>1</code>就够了）</p>
<p>然后利用<code>Panel</code>设置日期，只要一天的话，就如图设置即可<br><img src="/BessonNote/pic/gh/gh22.png" alt="gh22"></p>
<p>而后将<code>hoys</code>与<code>LB Sunpath</code>的<code>hoys_</code>连接起来<br><img src="/BessonNote/pic/gh/gh23.png" alt="gh23"></p>
<p>随后我们就可以在Rhino的界面中看到<code>13个叉叉</code>（也就是十三个点位）<br><img src="/BessonNote/pic/gh/gh24.png" alt="gh24"></p>
<p>我们可以用<code>Boolean Toggle</code>电池，将其与<code>LB Sunpath</code>的<code>daily_</code>连接起来，双击<code>False</code>，将其变成<code>True</code>，就可以看到6月21日这一天的太阳轨迹了<br><img src="/BessonNote/pic/gh/gh25.png" alt="gh25"><br><img src="/BessonNote/pic/gh/gh26.png" alt="gh26"></p>
<p>当然，还没完，毕竟这13个叉叉看着很诡异，所以接下来我们就是将这13个叉叉变成我们的太阳</p>
<p>上面的13个点位对于输出的是<code>LB Sunpath</code>的<code>sun_pts</code>，所以我们将它连接到<code>Point</code>电池，再将其连接到<code>Sphere</code>电池，就可以得到13个“太阳”（如果太小了就再给个半径的值）<br><img src="/BessonNote/pic/gh/gh27.png" alt="gh27"></p>
<p>然后在rhino的界面中我们就可以看到13个红球，那就是“太阳”<br><img src="/BessonNote/pic/gh/gh28.png" alt="gh28"></p>
<p>但是纯红的也不好看对吧，现在我们得给它个颜色</p>
<p>引入<code>Custom Preview</code>电池和<code>Gradient</code>电池，将<code>Gradient</code>的<code>output</code>与<code>Custom Preview</code>的<code>material</code>连接起来，再将其<code>geometry</code>与<code>sphere</code>的输出端连接起来<br><img src="/BessonNote/pic/gh/gh29.png" alt="gh29"></p>
<p>当然，现在还会报错，因为<code>Gradient</code>电池需要输入内容</p>
<p>这里我们就可以进一步思考，假设说我们现在想让<code>日落和日出</code>的太阳颜色<code>淡一点</code>，在<code>正午</code>的太阳颜色<code>最深</code>，应该怎么操作？</p>
<p>还没想到？那么再思考一下，就那13个太阳，它们的什么符合我们的需求？</p>
<p>答案是<code>Z轴</code>坐标（也就是<code>高度轴</code>）——Z轴坐标越大，颜色越深，Z轴坐标越小，颜色越浅</p>
<p>所以现在，我们需要一个<code>Deconstruct</code>电池，将这些太阳的Z轴坐标分离出来<br><img src="/BessonNote/pic/gh/gh30.png" alt="gh30"></p>
<p>除此之外，由于<code>Gradient</code>需要输入一个<code>范围</code>的，所以我们对提取的Z轴坐标数据还要进行进一步处理</p>
<p>这里我们再引入<code>Bounds</code>电池，这个就是用于输出一个<code>XXX TO XXX</code>的一个范围，我们可以拿<code>Panel</code>将其打印出来<br><img src="/BessonNote/pic/gh/gh31.png" alt="gh31"></p>
<p>随后，我们还要一个<code>Remap Numbers</code>这个电池，来<code>重新映射范围</code>，因为一般来说，我们是要将数值压进<code>0~1</code>这个范围的</p>
<p>按照前面<code>Bounds</code>输出的写法，我们创建一个<code>Panel</code>，里面写上<code>0 TO 1</code>，将其连接到<code>Remap Numbers</code>的<code>target</code>，<code>Bounds</code>输出端连接到<code>source</code>，前面提取的Z轴坐标连接至<code>value</code><br><img src="/BessonNote/pic/gh/gh32.png" alt="gh32"></p>
<p>最后，我们再将<code>Remap Numbers</code>的<code>mapped</code>连接至<code>Gradient</code>的<code>parameter</code><br>!<img src="/BessonNote/pic/gh/gh33.png" alt="gh33"><br>并且在<code>Rhino</code>界面我们就可以看到那些太阳有了颜色，颜色的话可以右键<code>Gradient</code>的那个调色盘，选择一个<code>preset</code>，或者你也可以自己创建一个</p>
<p>最后我们的效果就像这个样子，然后你就可以输出你的图纸了<br><img src="/BessonNote/pic/gh/gh34.png" alt="gh34"></p>
<p>至于我们得到的图表的城市名字是它默认的，如果你想只留下城市名，不想要后面的那一串，<code>可能只能通过直接改代码来实现</code><br><img src="/BessonNote/pic/gh/gh35.png" alt="gh35"></p>
<h1 id="日照时数"><a href="#日照时数" class="headerlink" title="日照时数"></a>日照时数</h1><p>确切来讲应该是<code>日照模拟</code>，因为这里的条件是<code>晴天</code>条件下的太阳光照</p>
<p>然后这个模拟是需要<code>计算大量数据</code>的，在最终运行时，<code>可能会卡住</code>，耐心等待即可</p>
<p>那么在此之前，我们先来搞个<code>模型</code>（建筑），这里我就简单放几个<code>网格</code>模型（注意一定得是<code>网格模型</code>），代表我们的建筑<br><img src="/BessonNote/pic/gh/gh36.png" alt="gh36"></p>
<p>另外提示一下，直接从<code>SU</code>导入的模型可能会在模拟的时候出问题，显示的那些东西会比较奇怪，<code>个人建议尽量使用在Rhino制作的模型</code></p>
<p><code>前面的步骤我们就不讲了，前面讲过了，将我们的太阳轨迹给它做出来</code></p>
<p>那么这一次，我们要进行<code>冬至日</code>的日照模拟，当然还有一个标准是<code>大寒日</code>的，不过这里就不演示了，原理是一样的<br><img src="/BessonNote/pic/gh/gh37.png" alt="gh37"><br><img src="/BessonNote/pic/gh/gh38.png" alt="gh38"></p>
<p>为了方便观察，我们可以先将太阳轨迹这个图<code>隐藏</code>起来，<code>鼠标中键</code>点击<code>LB Sunpath</code>，在弹出的环形菜单中选择右上角的<code>Disable Preview</code>即可<br><img src="/BessonNote/pic/gh/gh39.png" alt="gh39"></p>
<p>随后我们引入<code>LB Direct Sun Hours</code>电池，这个就是用于计算日照时数的<br><img src="/BessonNote/pic/gh/gh40.png" alt="gh40"></p>
<p>接下来我们要搞定它的输入端</p>
<p><code>_vectors</code>是太阳的角度，这个连接前面<code>LB Sunpath</code>的<code>vectors</code>输出端即可</p>
<p><code>_timestep_</code>同前面<code>LB Analysis Period</code>中的那样，是每小时的计算次数，设置为1即可</p>
<p><code>_geometry</code>这个要输入我们的模型，引入一个<code>Mesh</code>电池，右键选择<code>set mutiple meshes</code>，框选我们的模型，选中之后我们的模型将呈红色，然后我们将它连接上<br><img src="/BessonNote/pic/gh/gh41.png" alt="gh41"><br><code>_grid_size</code>这个是计算的网格大小，数值越大，计算越精确，但是计算时间也越长，<code>一般不小于你模型网格的最小尺寸</code></p>
<p><code>_offset_dist_</code>这个是网格上点的偏移距离，为了防止点被网格挡住，一般设置为<code>0.1</code>即可（<code>一个很小的正数</code>）</p>
<p><code>legend_par_</code>是设置图例参数的，我们可以用<code>LB Legend Parameter</code>电池，来进行设置，这里我们就用一个布尔值开关，将它的<code>continuous_leg_</code>设置为<code>True</code>（也就是让图例连续渐变）<br><img src="/BessonNote/pic/gh/gh42.png" alt="gh42"></p>
<p><code>_cpu_count_</code>是<code>参与计算的CPU核心数</code>，一般会自动选择，为你<code>当前CPU可用核心数 - 1</code>，一般不需要调整，<code>最低为1个</code></p>
<p>最后，用一个<code>布尔值开关</code>连接<code>_run</code><br><img src="/BessonNote/pic/gh/gh43.png" alt="gh43"></p>
<p>那么接下来，就是双击改变布尔值开关的值，<code>启动运算</code>，我们就得到了这么一个东西<br><img src="/BessonNote/pic/gh/gh44.png" alt="gh44"></p>
<p>嗯，分辨率似乎有点低，这时我们可以重建模型的面（<code>QuadRemesh</code>命令），把模型的面数拉上去（<code>记得把那个开关先关了</code>），然后将<code>Mesh</code>电池的东西重新选择一下，选择好之后，我们可以将<code>Mesh</code>给隐藏起来，防止后面显示的重叠<br><img src="/BessonNote/pic/gh/gh45.png" alt="gh45"></p>
<p>额，好像分的多了点，我们可以改一下<code>显示模式</code><br><img src="/BessonNote/pic/gh/gh46.png" alt="gh46"></p>
<p>而后，我们重新打开那个开关，最后得到这么一个图<br><img src="/BessonNote/pic/gh/gh47.png" alt="gh47"></p>
<p>可以看到我们的精度已经很高了，可以观察建筑的日照是否满足设计要求</p>
<p>最后也可以叠加刚才隐藏的太阳轨迹图<br><img src="/BessonNote/pic/gh/gh48.png" alt="gh48"></p>
<h1 id="风玫瑰图"><a href="#风玫瑰图" class="headerlink" title="风玫瑰图"></a>风玫瑰图</h1><p>那么接下来，我们来进行<code>风玫瑰图</code>的可视化</p>
<h2 id="基础部分-1"><a href="#基础部分-1" class="headerlink" title="基础部分"></a>基础部分</h2><p>首先，我们要引入一个<code>LB Wind Rose</code>电池，这个就是用来生成风玫瑰图的<br><img src="/BessonNote/pic/gh/gh49.png" alt="gh49"></p>
<p>这个电池的两个必要的输入端是<code>_data</code>和<code>_wind_direction</code>，它们对应的是<code>LB Import EPW</code>中的<code>wind_speed</code>和<code>wind_direction</code>，我们将它们连接起来<br><img src="/BessonNote/pic/gh/gh50.png" alt="gh50"></p>
<p>那么我们就能在<code>Rhino</code>中看到一个风玫瑰图了，这个图是<code>全年</code>的风玫瑰图<br><img src="/BessonNote/pic/gh/gh51.png" alt="gh51"></p>
<p>但是嘞，现在这些线有点密集，不太好观察，所以我们得对图进行一定的调整</p>
<p>我们看到在<code>_wind_direction</code>下面的<code>_dir_count_</code>，这个输入端是决定风玫瑰图中<code>扇形的个数</code>，默认的个数为<code>36</code>个，显然有点多了，我们可以设置到<code>24</code>个<br><img src="/BessonNote/pic/gh/gh52.png" alt="gh52"></p>
<p>这样看起来好一点，也可以根据你的实际需求进行调整<br><img src="/BessonNote/pic/gh/gh53.png" alt="gh53"></p>
<h2 id="进阶部分-1"><a href="#进阶部分-1" class="headerlink" title="进阶部分"></a>进阶部分</h2><p>好，我们直接进入进阶部分</p>
<p>在一般的竞赛作品中，我们可以看到风玫瑰图并不只有单独的一张，而往往是<code>12张</code>不同月份的风玫瑰图，所以在这里我们就来学习一下怎么制作</p>
<p>那么首先，我们需要12个点，用于指定12个月的风玫瑰图的位置，在<code>GH</code>中，我们可以通过<code>series</code>电池来序列化生成12个点，而不用你自己手动指定（当然你不嫌麻烦可以试试）</p>
<p>我们先来介绍一下<code>series</code>电池，它有三个输入端，<code>start</code>、<code>step</code>、<code>count</code>，分别代表序列的<code>起始值</code>、<code>步长</code>、<code>个数</code>，这个学过编程的应该很轻松就能理解<br><img src="/BessonNote/pic/gh/gh54.png" alt="gh54"></p>
<p>比如说我们这里要生成有<code>5</code>个值的序列，起始值为<code>0</code>，步长设置为<code>2</code>，那么我们得到的结果就是<code>0、2、4、6、8</code><br><img src="/BessonNote/pic/gh/gh55.png" alt="gh55"></p>
<p>当然，值得注意的是，<code>count必须为正数</code>，起始值和步长可以为<code>负数</code>，否则会出问题。步长如果缺省，则默认为<code>1</code></p>
<p>那么现在，我们要生成12点，当然不是直接在一条直线上生成12个，我们要将其分成<code>3x4</code>这样的点阵，所以我们得用两个<code>series</code>电池</p>
<p>一个生成4个，一个生成3个，它们的步长先将其设置为<code>50000</code>，这样就能生成一个<code>3×4</code>，每个点间隔<code>50000</code>的点阵<br><img src="/BessonNote/pic/gh/gh56.png" alt="gh56"></p>
<p>我们可以通过<code>Construct Point</code>电池来显示这些点，其中一个给X，另一个给Y<br><img src="/BessonNote/pic/gh/gh57.png" alt="gh57"><br><img src="/BessonNote/pic/gh/gh58.png" alt="gh58"></p>
<p>但似乎有些不对劲，我们要右键点击<code>Construct Point</code>的<code>X</code>或是<code>Y</code>的输入端，选择<code>Graft</code>，这是为每个数据进行<code>单独处理</code>，匹配<code>X</code>和<code>Y</code>的坐标<br><img src="/BessonNote/pic/gh/gh59.png" alt="gh59"></p>
<p>现在看起来正常多了<br><img src="/BessonNote/pic/gh/gh60.png" alt="gh60"></p>
<p>但是现在，我们还不能将<code>Construct Point</code>的输出端连接到<code>LB Wind Rose</code>的<code>_center_pt_</code>，因为一旦连上你就会发现，这12张图是一样的，并不是每个月份的</p>
<p>因为风玫瑰图的数据<code>没有分离</code>，我们要设置<code>LB Wind Rose</code>的<code>period_</code>输入端，将风玫瑰的数据按<code>月份</code>拆开来</p>
<p>现在我们要使用<code>LB Analysis Period</code>电池和<code>series</code>电池，用<code>series</code>生成一个<code>1到12</code>的序列，然后将其连接到<code>LB Analysis Period</code>的<code>_start_month_</code>和<code>_end_month_</code>，这样就能将风玫瑰的数据按月份拆分了</p>
<p>我们可以拿<code>panel</code>看一下它输出的<code>period</code>，可以看到它已经按月份拆分了<br><img src="/BessonNote/pic/gh/gh61.png" alt="gh61"></p>
<p>其实用<code>series</code>电池就等效于下面这种方法做<code>12</code>次（当然我觉得你不会这么干）<br><img src="/BessonNote/pic/gh/gh62.png" alt="gh62"></p>
<p>那么最后就是将<code>Construct Point</code>的输出端与<code>LB Wind Rose</code>的<code>_center_pt_</code>连接起来，将<code>LB Analysis Period</code>的输出端与<code>LB Wind Rose</code>的<code>period_</code>连接起来</p>
<p>另外，再将<code>_max_freq_lines_</code>设置为小一点的数，这个是控制<code>扇面分割的个数</code>，因为我们拆分各个月份之后，每个月的最高风速就没那么大了，所以可以将扇面数减少<br><img src="/BessonNote/pic/gh/gh63.png" alt="gh63"></p>
<p>但输出的图似乎还是有点小问题<br><img src="/BessonNote/pic/gh/gh64.png" alt="gh64"></p>
<p>我们右键<code>Construct Point</code>的输出端，选择<code>Flatten</code>，这样就能将<code>点阵展平</code>，这样就能正常显示了<br><img src="/BessonNote/pic/gh/gh65.png" alt="gh65"></p>
<p>当然，细心的同学会发现，其实我们生成的图的月份是<code>反着</code>的，即1-4月在最下面，9-12月在上边，这里呢，就重新调整其中一个<code>series</code>来解决，将它的步长设置为<code>-50000</code>（对了，这个数值也是<code>按照实际情况来调整</code>，我这里的话55000更好一点）<br><img src="/BessonNote/pic/gh/gh66.png" alt="gh66"></p>
<p>这样你就能分析某几个月份的主导风向了<br><img src="/BessonNote/pic/gh/gh67.png" alt="gh67"></p>
<h1 id="数据图表"><a href="#数据图表" class="headerlink" title="数据图表"></a>数据图表</h1><p>接下来就介绍一些常规的数据图表，比如<code>焓湿图</code>、<code>干球温度</code>、<code>露点温度</code>等</p>
<p>它们的表现形式可以为二维的，也可以为三维的</p>
<p>我们这里用到一个<code>LB Hourly Plot</code>电池，这个是用来绘制图表的（<code>二维三维均可</code>）<br><img src="/BessonNote/pic/gh/gh68.png" alt="gh68"></p>
<p>另一个是<code>LB Monthly Chart</code>，这个是用来绘制月度图表的（<code>纯粹的二维图表</code>）</p>
<h2 id="干球温度"><a href="#干球温度" class="headerlink" title="干球温度"></a>干球温度</h2><p>我们将lb import epw的<code>dry_bulb_temperature</code>（干球温度）连接到<code>LB Hourly Plot</code>的<code>_data</code><br><img src="/BessonNote/pic/gh/gh69.png" alt="gh69"></p>
<p>我们就可以在rhino中看到一个图表了<br><img src="/BessonNote/pic/gh/gh70.png" alt="gh70"></p>
<p>那么另外，<code>base_pt_</code>就是指定一个点作为图表的原点</p>
<p><code>_x（y/z）_dim_</code>就是指定<code>x（y/z）</code>轴的长度，三个轴都设置一下就可以让它变成三维的</p>
<p><code>z</code>轴的值越大，那么在图上的起伏也就越大<br><img src="/BessonNote/pic/gh/gh71.png" alt="gh71"><br><img src="/BessonNote/pic/gh/gh72.png" alt="gh72"></p>
<p>另外通过设置<code>statement_</code>，可以让图表只输出我们要的数据，比如我们只让他输出温度<code>高于20°C</code>的数据，就可以将条件写在<code>panel</code>里，再将其连接<br><img src="/BessonNote/pic/gh/gh73.png" alt="gh73"><br><img src="/BessonNote/pic/gh/gh74.png" alt="gh74"></p>
<p>另外一边，我们可以通过<code>lb hourly chart</code>来绘制月度图表，这个比较简单，直接连接<code>_data</code>即可<br><img src="/BessonNote/pic/gh/gh75.png" alt="gh75"></p>
<p>也可以再在<code>data</code>上接上一个<code>LB Time Interval Operation</code>，对数据进行进一步处理，<code>daily</code>则输出每天的数据，<code>monthly</code>输出每月的平均数据，<code>mon_per_hr</code>输出每月每小时的平均数据<br><img src="/BessonNote/pic/gh/gh76.png" alt="gh76"><br><img src="/BessonNote/pic/gh/gh77.png" alt="gh77"><br><img src="/BessonNote/pic/gh/gh78.png" alt="gh78"></p>
<p><code>LB Time Interval Operation</code>的输入端数据是可以重叠的（用<code>Merge</code>电池合并一下），比如这样（相对湿度和干球温度的叠加）<br><img src="/BessonNote/pic/gh/gh79.png" alt="gh79"><br><img src="/BessonNote/pic/gh/gh80.png" alt="gh80"></p>
<h2 id="露点温度"><a href="#露点温度" class="headerlink" title="露点温度"></a>露点温度</h2><p>那么同样的，只需将<code>dew_point_temperature</code>（露点温度）连接到<code>_data</code>，就可以得到露点温度的图表了</p>
<p>也是可以处理为<code>三维</code>的<br><img src="/BessonNote/pic/gh/gh81.png" alt="gh81"><br><img src="/BessonNote/pic/gh/gh82.png" alt="gh82"></p>
<h2 id="焓湿图"><a href="#焓湿图" class="headerlink" title="焓湿图"></a>焓湿图</h2><p>焓湿图的做法与上面的图表又不太一样，这个或许得从焓湿图的含义考虑了，咱们这里就不作介绍了</p>
<p>焓湿图需要两个数据，一个是<code>dry_bulb_temperature</code>（干球温度），另一个是<code>relative_humidity</code>（相对湿度）</p>
<p>另外需要一个<code>LB Psychrometric Chart</code>电池，这个是用来生成焓湿图的</p>
<p>然后将干球温度和相对湿度连接上，就能获得一个焓湿图了<br><img src="/BessonNote/pic/gh/gh83.png" alt="gh83"><br><img src="/BessonNote/pic/gh/gh84.png" alt="gh84"></p>
<p>另外，我们可以看到焓湿图<code>横轴（温度）并没有全部用到</code>，所以我们可以进行<code>优化</code></p>
<p>利用<code>Construct Domain</code>电池，将横轴的范围设置为<code>-10-40</code>，连接至<code>_temp_range_</code>，这样横轴就不会有太多的空白了<br><img src="/BessonNote/pic/gh/gh85.png" alt="gh85"><br><img src="/BessonNote/pic/gh/gh86.png" alt="gh86"></p>
<p>图表中的<code>斜线</code>，默认为<code>等焓值线</code>，你可以用一个布尔值开关控制<code>LB Psychrometric Chart</code>的<code>plot_wet_bulb</code>，可以将其转换为<code>等湿球温度线</code>，这个就按需调整了<br><img src="/BessonNote/pic/gh/gh87.png" alt="gh87"></p>
<p>在接下来，我们看到<code>data_</code>，它也可以叠加一些数据，比如我们将<code>风速</code>连接到<code>data_</code>中，就会得到另外一张图<br><img src="/BessonNote/pic/gh/gh88.png" alt="gh88"></p>
<p>另外我再画一条线，可以将两个图联合起来分析，看它们<code>干球温度</code>、<code>相对湿度</code>、<code>空气焓值</code>和<code>风速</code>关联起来看，得出一些应对方法<br><img src="/BessonNote/pic/gh/gh89.png" alt="gh89"></p>
<h3 id="热舒适多边形（PMV指标）"><a href="#热舒适多边形（PMV指标）" class="headerlink" title="热舒适多边形（PMV指标）"></a>热舒适多边形（PMV指标）</h3><p><code>PMV指标</code>是衡量室内<code>热舒适性</code>的一个重要指标，关乎<code>建筑节能</code>方面</p>
<p><code>（注：我暂时没有研究过PMV相关内容，如未能解释清楚还请谅解）</code></p>
<p>这个图是建立在前面的焓湿图基础上的，我们要用到<code>LB PMV Polygon</code>电池，连接<code>psych_chart</code><br><img src="/BessonNote/pic/gh/gh90.png" alt="gh90"></p>
<p>我们就能在刚才生成的焓湿图中发现一个<code>多边形</code>了<br><img src="/BessonNote/pic/gh/gh91.png" alt="gh91"></p>
<p>接下来我们来设置<code>新陈代谢速率</code>（应该是这个房间使用者的主要活动的新陈代谢速度），我们要用到<code>LB Activities Met List</code>电池</p>
<p>在这个电池中，它已经给我们预设好了一些活动，我们选择一个将其连接到<code>_met_rate_</code>上<br><img src="/BessonNote/pic/gh/gh92.png" alt="gh92"></p>
<p>随后还要设置一个穿衣指数（这个房间使用者会穿什么或者不穿什么），要用到<code>LB Clothing List</code></p>
<p>通过选择或取消选择上面的对勾，就可以指定这个房间使用者穿或者不穿什么，并将其连接到<code>_clothing_</code>上<br><img src="/BessonNote/pic/gh/gh93.png" alt="gh93"></p>
<p>随后在焓湿图上，就出现了一个和刚开始不一样的多边形，就是指<code>这个房间使用者穿什么衣服时，在什么干球温度和相对湿度下，是舒适的</code><br><img src="/BessonNote/pic/gh/gh94.png" alt="gh94"></p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>那么以上内容就是北山在过去所学的气象数据可视化</p>
<p>说实话，<code>GH</code>其实挺好玩的，有没有激起一点点兴趣呢？</p>
<p>那么，也感谢大家看到这里，感谢支持！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://beishanair.github.io/BessonNote">BeiShan_Besson</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://beishanair.github.io/BessonNote/2025/03/18/gh/">https://beishanair.github.io/BessonNote/2025/03/18/gh/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://beishanair.github.io/BessonNote" target="_blank">Memories Of The Sky</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/BessonNote/tags/Rhino-GH/">Rhino GH</a></div><div class="post_share"><div class="social-share" data-image="/BessonNote/pic/bg/bg5.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/BessonNote/2025/03/11/csharp/" title="C# 学习笔记"><img class="cover" src="/BessonNote/pic/bg/bg4.jpg" onerror="onerror=null;src='/BessonNote/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">C# 学习笔记</div></div></a></div><div class="next-post pull-right"><a href="/BessonNote/2025/08/06/u3d/" title="Unity3D 学习笔记"><img class="cover" src="/BessonNote/pic/bg/bg6.jpg" onerror="onerror=null;src='/BessonNote/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Unity3D 学习笔记</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/BessonNote/pic/BS.png" onerror="this.onerror=null;this.src='/BessonNote/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">BeiShan_Besson</div><div class="author-info__description">一起来学习吧！</div></div><div class="card-info-data site-data is-center"><a href="/BessonNote/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/BessonNote/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/BessonNote/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/BeiShanair"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/BeiShanair" target="_blank" title="Github"><i class="fab fa-github" style="color: #FFFFFF;"></i></a><a class="social-icon" href="mailto:besson_arch@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://space.bilibili.com/489671468" target="_blank" title="Bilibili"><i class="fab fa-bilibili" style="color: #FF679A;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客！如有问题请加交流频道：pd09376785</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">前述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DeepSeek%E7%9A%84%E8%AF%9D"><span class="toc-number">1.1.</span> <span class="toc-text">DeepSeek的话</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%97%E5%B1%B1%E3%81%AE%E8%AF%9D"><span class="toc-number">1.2.</span> <span class="toc-text">北山の话</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ladybug-Tool%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">Ladybug Tool安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.1.</span> <span class="toc-text">下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.2.</span> <span class="toc-text">安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Very-Important-Tip"><span class="toc-number">3.</span> <span class="toc-text">Very Important Tip</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE"><span class="toc-number">4.</span> <span class="toc-text">气象数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE"><span class="toc-number">4.1.</span> <span class="toc-text">下载气象数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E6%B0%94%E8%B1%A1%E6%95%B0%E6%8D%AE"><span class="toc-number">4.2.</span> <span class="toc-text">保存气象数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%AA%E9%98%B3%E8%BD%A8%E8%BF%B9"><span class="toc-number">5.</span> <span class="toc-text">太阳轨迹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86"><span class="toc-number">5.1.</span> <span class="toc-text">基础部分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E9%83%A8%E5%88%86"><span class="toc-number">5.2.</span> <span class="toc-text">进阶部分</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%97%A5%E7%85%A7%E6%97%B6%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">日照时数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A3%8E%E7%8E%AB%E7%91%B0%E5%9B%BE"><span class="toc-number">7.</span> <span class="toc-text">风玫瑰图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86-1"><span class="toc-number">7.1.</span> <span class="toc-text">基础部分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E9%83%A8%E5%88%86-1"><span class="toc-number">7.2.</span> <span class="toc-text">进阶部分</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%9B%BE%E8%A1%A8"><span class="toc-number">8.</span> <span class="toc-text">数据图表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B2%E7%90%83%E6%B8%A9%E5%BA%A6"><span class="toc-number">8.1.</span> <span class="toc-text">干球温度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%B2%E7%82%B9%E6%B8%A9%E5%BA%A6"><span class="toc-number">8.2.</span> <span class="toc-text">露点温度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%84%93%E6%B9%BF%E5%9B%BE"><span class="toc-number">8.3.</span> <span class="toc-text">焓湿图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%83%AD%E8%88%92%E9%80%82%E5%A4%9A%E8%BE%B9%E5%BD%A2%EF%BC%88PMV%E6%8C%87%E6%A0%87%EF%BC%89"><span class="toc-number">8.3.1.</span> <span class="toc-text">热舒适多边形（PMV指标）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">9.</span> <span class="toc-text">总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/08/31/arch/" title="使用UE、Blender、SP制作建筑资产"><img src="/BessonNote/pic/bg/bg7.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="使用UE、Blender、SP制作建筑资产"/></a><div class="content"><a class="title" href="/BessonNote/2025/08/31/arch/" title="使用UE、Blender、SP制作建筑资产">使用UE、Blender、SP制作建筑资产</a><time datetime="2025-08-30T16:00:00.000Z" title="发表于 2025-08-31 00:00:00">2025-08-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/08/06/ue/" title="Unreal Engine 学习笔记"><img src="/BessonNote/pic/bg/bg3.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="Unreal Engine 学习笔记"/></a><div class="content"><a class="title" href="/BessonNote/2025/08/06/ue/" title="Unreal Engine 学习笔记">Unreal Engine 学习笔记</a><time datetime="2025-08-05T17:00:00.000Z" title="发表于 2025-08-06 01:00:00">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/08/06/u3d/" title="Unity3D 学习笔记"><img src="/BessonNote/pic/bg/bg6.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="Unity3D 学习笔记"/></a><div class="content"><a class="title" href="/BessonNote/2025/08/06/u3d/" title="Unity3D 学习笔记">Unity3D 学习笔记</a><time datetime="2025-08-05T16:00:00.000Z" title="发表于 2025-08-06 00:00:00">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/03/18/gh/" title="Grasshopper 气象数据可视化"><img src="/BessonNote/pic/bg/bg5.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="Grasshopper 气象数据可视化"/></a><div class="content"><a class="title" href="/BessonNote/2025/03/18/gh/" title="Grasshopper 气象数据可视化">Grasshopper 气象数据可视化</a><time datetime="2025-03-18T07:00:00.000Z" title="发表于 2025-03-18 15:00:00">2025-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BessonNote/2025/03/11/csharp/" title="C# 学习笔记"><img src="/BessonNote/pic/bg/bg4.jpg" onerror="this.onerror=null;this.src='/BessonNote/img/404.jpg'" alt="C# 学习笔记"/></a><div class="content"><a class="title" href="/BessonNote/2025/03/11/csharp/" title="C# 学习笔记">C# 学习笔记</a><time datetime="2025-03-11T07:00:00.000Z" title="发表于 2025-03-11 15:00:00">2025-03-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By BeiShan_Besson</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/BessonNote/js/utils.js?v=4.13.0"></script><script src="/BessonNote/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>